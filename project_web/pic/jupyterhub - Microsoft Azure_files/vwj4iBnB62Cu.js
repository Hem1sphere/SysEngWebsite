define("Fx",["require","exports","f"],(function(n,t,i){"use strict";var r;return (function(n){n.forEachKey=i.forEachKey;n.getEnvironmentValue=i.getEnvironmentValue;n.getUniqueId=i.getUniqueId;n.isDevelopmentMode=i.isDevelopmentMode;n.isFeatureEnabled=i.isFeatureEnabled;n.require=i.require;n.startTimer=i.startTimer})(r||(r={})),r}));
define("Fx/Ajax",["require","exports","f","i","o"],(function(n,t,i,r,u){"use strict";function f(n,t){return(n&t)===t}function l(n){var t=n||"";return(y+"."+t).substr(0,255)}function v(n){var t={};return n.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach((function(n){var i=n.split(": "),r=i.shift();t[r]=i.join(": ")})),t}function g(n,t,r,y,p,w){var nt=n+e.fxArmBatchWithApiVersion,k=u.create(null),b={batches:[],count:0},d=i.startTimer(),g=function(){var r=b.batches;b={batches:[],count:0};r.forEach((function(r){var e=i.replaceAll(JSON.stringify(r.commandNameMap,u.keys(r.commandNameMap).sort()),'"',"");a({isBackgroundTask:t,setAuthorizationHeader:!0,setTelemetryHeader:e,uri:nt,skipDomainValidation:w},{requests:r.requests}).then((function(u){u.responses.forEach((function(u,e){var w=r.contexts[e],p=w.response,y;if(u.httpStatusCode<400)p.resolve(u);else{var l=r.requests[e],b=w.options,a=void 0;f(b,16)||f(o,16)||(f(b,8)||f(o,8)?a={reason:"ForceRetry."+u.httpStatusCode}:t||l.httpMethod!==c||u.httpStatusCode!==503?f(b,128)||u.httpStatusCode!==403||((u.headers||{})["x-ms-failure-cause"]||"").toLowerCase()!=="gateway"||(a={reason:"RetryForbidden",headers:{"Cache-Control":"no-cache"}}):a={reason:"Slow"});a?(y=w.uri||new s.UriBuilder(l.url),y.getAuthority()||(y.path=n+i.trimStart(y.path,"/")),Q(h.ajaxExtended({uri:y.toString(),setAuthorizationHeader:!0,setTelemetryHeader:l.requestHeaderDetails.commandName+"."+a.reason,type:l.httpMethod,headers:a.headers,data:l.content&&JSON.stringify(l.content),contentType:l.content&&"application/json"})).then((function(n){var t=n.jqXHR,i=t&&v(t);p.resolve({content:n.content,headers:i||{},httpStatusCode:t&&t.status})}),(function(n){var t=n.jqXHR,i=t&&v(t);p.reject({content:u.content,headers:i||{},httpStatusCode:t&&t.status})}))):p.reject(u)}}))})).catch((function(n){r.contexts.forEach((function(t){t.response.reject(n)}))}))}))};return{getResponse:function(n,t,u,e,o,s){var nt={content:t,httpMethod:u,requestHeaderDetails:{commandName:l(n)},url:s},tt=!f(o,64),c,a,h,v,it,w;if(tt){if(c=k[s],c&&c.timer()<r)return c.promise}else delete k[s];return b.count||(y?Q.delay(y).then(g):Q.nextTick((function(){var n=b.count,t=function(){n>=Math.min(b.count,20)?g():(n=b.count,Q.nextTick(t))};Q.nextTick(t)}))),a=Q.defer(),b.count++,h=i.last(b.batches),(!h||h.requests.length>=20)&&(h={commandNameMap:(w={},w[" "+l(p)]=0,w),contexts:[],requests:[]},b.batches.push(h)),h.requests.push(nt),h.contexts.push({options:o,response:a,uri:e}),v=n||"Unknown",it=h.commandNameMap[v]||0,h.commandNameMap[v]=it+1,d()>6e4&&(i.forEachKey(k,(function(n,t){t.timer()>r&&delete k[n]})),d=i.startTimer()),tt&&(k[nt.url]={promise:a.promise,timer:i.startTimer()}),a.promise}}}function nt(){return{arm:e.fxArmEndpoint,armBatch:e.fxArmEndpoint+e.fxArmBatchWithApiVersion,graph:e.fxGraphEndpoint,msGraph:e.fxMsGraphEndpoint}}function tt(n){var l=n.uri||n.url||"",h,a,r,v,y;i.isUriAbsolute(l)&&!l.toLowerCase().startsWith(t.armEndpointLowerCase)?(a=new s.UriBuilder(l),h=a.getAuthority().toLowerCase(),r=a.getScheme()+h):r=t.armEndpointLowerCase;r=i.ensureSuffix(r,"/").toLowerCase();var e=n.options||o,p=n.isBackgroundTask||f(e,4),u=b;return f(e,1)||f(o,1)?u=k:p&&(u=d),v=u.map[r],v||(h||(h=new s.UriBuilder(r).getAuthority()),v=u.map[r]=g(r,p,u.cacheDurationMs,u.bufferDurationMs,u.telemetrySuffix,w(h))),y=n.type||c,(y!==c||n.headers||f(o,64)&&!f(e,32))&&(e=e|64),v.getResponse(n.setTelemetryHeader,n.content,y,a,e,l)}function it(n){return n.batchRequests.length?a({isBackgroundTask:n.isBackgroundTask,setAuthorizationHeader:!0,setTelemetryHeader:l(n.telemetryHeader),uri:n.endpoint},{requests:n.batchRequests.map((function(n){return{url:n.uri,httpMethod:n.httpMethod||c,content:n.content,requestHeaderDetails:{commandName:l((n.requestHeaderDetails||{}).commandName)}}}))}):Q(null)}function a(n,t){return Q(h.postJSON(n,t))}function rt(n){return Q(h.ajax(n))}function ut(n){return Q(h.ajaxExtended(n))}function ft(n){o=n.requestOptions}var o;u.defineProperty(t,"__esModule",{value:!0});var s=i.Base,h=s.Net2,y=i.getEnvironmentValue("extensionName"),p=i.isFeatureEnabled("fasteventservice"),c="GET",e=r.internalEnv,w=r.validateDomain;t.armEndpointLowerCase=e.fxArmEndpoint.toLowerCase();var b={bufferDurationMs:100,cacheDurationMs:1e4,map:u.create(null),telemetrySuffix:"Batch"},k={cacheDurationMs:1e4,map:u.create(null),telemetrySuffix:"BatchNextTick"},d={bufferDurationMs:p?5e3:6e4,cacheDurationMs:6e4,map:u.create(null),telemetrySuffix:"BatchBackground"};o=66;t.getEndpoints=nt;t.batch=tt;t.batchMultiple=it;t.postJSON=a;t.ajax=rt;t.ajaxExtended=ut;t.initialize=ft}));
define("Fx/Composition/DashboardFilters",["require","exports"],(function(){"use strict";var n;return (function(n){var u,i,t,r,f,e,o,s,h;(function(n){n.filterId="MsPortalFx_TimeRange"})(u=n.TimeRangeFilter||(n.TimeRangeFilter={}));i=(function(){function n(){}return n})();n.FilterDefinition=i;t=(function(n){function t(t){var i=n.call(this)||this;return i.kind=t,i}return __extends(t,n),t})(i);r=(function(n){function t(t,i,r){var u=n.call(this,r)||this;return u.filterId=t,u.displayText=i,u}return __extends(t,n),t})(t),(function(n){function t(n){return new i(n)}n.createDefinition=t;var i=(function(n){function t(t){var i=this,r=t.filterId,u=t.displayText;return i=n.call(this,r,u,1)||this,i.getFilterValues=t.getFilterValues,i}return __extends(t,n),t})(r)})(f=n.EqualityFilter||(n.EqualityFilter={})),(function(n){function i(n){return new r(n)}n.createDefinition=i;n.filterId="MsPortalFx_Subscription";var r=(function(n){function t(t){var i=n.call(this,2)||this;return i.getSubscriptionIds=t.getSubscriptionIds,i}return __extends(t,n),t})(t)})(e=n.SubscriptionFilter||(n.SubscriptionFilter={})),(function(n){function i(n){return new r(n)}n.createDefinition=i;n.filterId="MsPortalFx_Location";var r=(function(n){function t(t){var i=n.call(this,3)||this;return i.getLocations=t.getLocations,i}return __extends(t,n),t})(t)})(o=n.LocationFilter||(n.LocationFilter={})),(function(n){function i(n){return new r(n)}n.createDefinition=i;n.filterId="MsPortalFx_ResourceGroup";var r=(function(n){function t(t){var i=n.call(this,5)||this;return i.getResourceGroupIds=t.getResourceGroupIds,i}return __extends(t,n),t})(t)})(s=n.ResourceGroupFilter||(n.ResourceGroupFilter={})),(function(n){function i(n){return new r(n)}n.createDefinition=i;n.filterId="MsPortalFx_ResourceType";var r=(function(n){function t(t){var i=n.call(this,4)||this;return i.getResourceTypes=t.getResourceTypes,i}return __extends(t,n),t})(t)})(h=n.ResourceTypeFilter||(n.ResourceTypeFilter={}))})(n||(n={})),n}));
define("Fx/DependencyInjection",["require","exports","f","o"],(function(n,t,i,r){"use strict";function u(n){return n.name||"<unknown type>"}function p(n){return function(t){l(o,{scope:n||"",target:t},t)}}function w(n){return function(t,i){l(o,{scope:n||"",target:t,propertyKey:i},t)}}function e(n){return typeof n.then=="function"}function a(n,t){var i=s("design:paramtypes",n.target,n.propertyKey);i&&i.forEach(t)}function v(n){return new h(n)}var f,h,c;r.defineProperty(t,"__esModule",{value:!0});var o="fx:class",y=Map,l=Reflect.defineMetadata,s=Reflect.getOwnMetadata;t.Class=p;t.Factory=w;f=(function(){function n(){}return n})();t.Container=f;h=(function(n){function t(t,i){var r=n.call(this)||this,u;return r._map=new y,r._scope=t||"",i&&(r._baseContainer=i,u=i.underlying,u._childContainers=u._childContainers||new Map,u._childContainers.set(r,r)),r}return __extends(t,n),t.prototype.get=function(n,t,i){return this._validate(new Map,n,t||this._baseContainer&&this._baseContainer.importingType,i),this._get(n,t)},t.prototype.getAsync=function(n,t){var r=this;return e(n)?i.tryImmediateResolve(Q(n),(function(n){return r.get(n,t,!0)})):Q(this.get(n,t,!0))},t.prototype.set=function(n,t){return this._dispatch(n,null,(function(i,r,f){if(f.isUsed)throw new Error("Cannot set instance because the type '"+u(n)+"' has already been composed.");f.instance=t})),this},t.prototype.setInterceptor=function(n,t){return this._dispatch(n,null,(function(i,r,f){if(f.isUsed)throw new Error("Cannot set interceptor because the type '"+u(n)+"' has already been composed.");f.interceptor=t})),this},t.prototype.disposeAsync=function(){var n=this,t;return this._disposePromise||(t=[],this._childContainers&&this._childContainers.forEach((function(n){t.push(n.disposeAsync())})),this._disposePromise=Q.all(t).then((function(){t.length=0;var i=new Map,r=function(u,f){var e=i.get(f);return u.hasOwnership&&!e&&(e=Q.all(u.importingTypes.map((function(t){return r(n._map.get(t),t)}))).then((function(){return u.instance})).then((function(n){return n.dispose&&n.dispose()})),i.set(f,e),t.push(e)),e};return n._map.forEach(r),Q.all(t)})).then((function(){n._map.clear();n._baseContainer&&n._baseContainer.underlying._childContainers.delete(n)}))),this._disposePromise},t.prototype._get=function(n,t){return this._dispatch(n,t,(function(n,t,i,r){var s=r.target,o=i.instance,v,h,l,y;if(i.isUsed){if(!o)throw new Error("Cannot lazily compose '"+u(s)+"' because a cycle has been detected.");}else i.isUsed=!0;return o||(v=function(n){return r.propertyKey?(t=s)[r.propertyKey].apply(t,n):new(s.bind.apply(s,[void 0].concat(n)));var t},h=[],a(r,(function(t){h.push(t===f?new c(n,s):n._get(t,s))})),o=h.every((function(n){return!e(n)}))?v(h):Q.all(h).then(v),l=i.interceptor,l&&(o=e(o)?o.then((function(n){return l(n)||n})):l(o)||o),y=function(n){i.instance=n},y(o),e(o)&&o.then(y),i.hasOwnership=!0),t&&i.hasOwnership&&!i.importingTypes.includes(t)&&i.importingTypes.push(t),o}))},t.prototype._validate=function(n,t,i,r){this._dispatch(t,i,(function(t,i,o,h){if(o.instance){if(!r&&e(o.instance))throw new Error("Cannot synchronously compose async type.");}else{var c=h.target;if(!r&&h.propertyKey&&s("design:returntype",c,h.propertyKey)!==c)throw new Error("The factory method for '"+u(c)+"' does not have an explicit return type of '"+u(c)+"'.");if(n.get(c))throw new Error("Cannot compose '"+u(c)+"' because a cycle has been detected.");n.set(c,c);a(h,(function(i,e){if(i)i!==f&&t._validate(n,i,c,r);else throw new Error("The type of parameter #"+(e+1)+" of '"+u(c)+"' is undefined.");}));n.delete(c)}}))},t.prototype._dispatch=function(n,t,i){var e=s(o,n),h,r,f;if(!e){h="Cannot compose '"+u(n)+"' because it is not correctly decorated.";t&&(h+=" The type was imported by '"+u(t)+"'.");throw new Error(h);}for(r=this;;)if(r._scope===e.scope)break;else if(r._baseContainer)t=r._baseContainer.importingType,r=r._baseContainer.underlying;else if(e.scope)throw new Error("Scope is not valid.");else break;if(r._disposePromise)throw new Error("Cannot use container because it's already disposed.");return f=r._map.get(n),f||(f={importingTypes:[]},r._map.set(n,f)),i(r,t,f,e)},t.prototype.createChildContainer=function(n){return new c(this,null).createChildContainer(n)},t})(f);t.createContainer=v;c=(function(n){function t(t,i){var r=n.call(this)||this;return r.underlying=t,r.importingType=i,r}return __extends(t,n),t.prototype.get=function(n){return this.underlying.get(n,this.importingType)},t.prototype.getAsync=function(n){return this.underlying.getAsync(n,this.importingType)},t.prototype.set=function(n,t){return this.underlying.set(n,t),this},t.prototype.setInterceptor=function(n,t){return this.underlying.setInterceptor(n,t),this},t.prototype.createChildContainer=function(n){return new h(n,this)},t})(f);t.container=v()}));
define("Fx/Composition/Pdl/Blade",["require","exports","o","Fx/DependencyInjection"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});var u=(function(){function n(){throw new Error("Invalid usage.");}return n})();u=__decorate([r.Class("viewModel"),__metadata("design:paramtypes",[])],u);t.Container=u}));
define("Fx/Diagnostics",["require","exports","f","o"],(function(n,t,i,r){"use strict";r.defineProperty(t,"__esModule",{value:!0});var u=i.Base.Diagnostics;t.createLog=u.createLog}));
define("Fx/Feedback",["require","exports","f","i","o"],(function(n,t,i,r,u){"use strict";function c(n){e.showNpsEndpoint.invoke(f.client,o,n)}function l(){return e.canShowNpsEndpoint.invoke(f.client,o,null)}var o;u.defineProperty(t,"__esModule",{value:!0});var h=i.Base,f=r.Rpc,s=r.Constants.RpcMethods,e;(function(n){n.showNpsEndpoint=new f.FuncEndPointDefinition(s.showNps);n.canShowNpsEndpoint=new f.FuncEndPointDefinition(s.canShowNps)})(e=t.Internal||(t.Internal={}));o=h.Constants.Shell;t.showNps=c;t.canShowNps=l}));
define("Fx/ResourceManagement",["require","exports","f","o"],(function(n,t,i,r){"use strict";r.defineProperty(t,"__esModule",{value:!0});var u;(function(n){function bt(n,t){if(!n)return"";var i=ei[t||n.kind];return!i||!i.sourceMap[n.kind]?"":i.builder(n)}function kt(n){var t,i,r=function(){t={};i=0};return r(),function(u){var f=t[u];return f===undefined&&(f=n(u),i++==1e3&&Q.nextTick(r),t[u]=f),f}}function ht(){return{kind:0,subscription:"",resourceGroup:"",provider:"",resourceTypes:[],resourceIds:[],tagName:"",tagValue:"",resourceName:"",resourceType:""}}function u(n,t){return function(i,r,u){return i[n]=r[u+1],t}}function ni(n,t){return{machineData:ht(),machineState:t,processorMap:dt,kindTransition:gt}}function ti(n){var r,c,t,u,f,e,o,l;if(typeof n!="string"||(r=(n||"").split("/"),r.length===1||r.length%2!=1||r[0].length!==0))return s;for(c=r.length,t=ni(n,0),u=1;u<c;u+=2){if((f=t.processorMap[t.machineState],!f)||(e=r[u],o=f[e]||f[e.toLowerCase()]||f[""],!o))return s;l=t.machineData.kind;t.machineState=o(t.machineData,r,u);t.machineData.kind=t.kindTransition[l][t.machineState]||0}var i=t.machineData,a=i.provider,h=i.resourceTypes;return i.kind===1?i.resourceType=b.Subscriptions:i.kind===4?i.resourceType=b.ResourceGroups:h.length&&(i.resourceType=a&&h.length&&a+"/"+h.join("/")||"",i.resourceName=i.resourceIds.join("/")),i}var s,b;n.parse=kt((function(n){return ti(n)}));n.stringify=bt;var ct=function(n,t,i){return n.resourceTypes.push(t[i]),n.resourceIds.push(t[i+1]),4},lt=function(n,t,i){return n.provider="Microsoft.Resources",n.resourceTypes.push("deployments"),n.resourceIds.push(t[i+1]),4},dt=(e={},e[0]={subscriptions:u("subscription",1),providers:u("provider",3)},e[1]={resourceGroups:u("resourceGroup",2),resourcegroups:u("resourceGroup",2),providers:u("provider",3),tagNames:u("tagName",5),tagnames:u("tagName",5),deployments:lt},e[2]={providers:u("provider",3),deployments:lt},e[3]={"":ct},e[4]={"":ct},e[5]={tagValues:u("tagValue",6),tagvalues:u("tagValue",6)},e),gt=(t={},t[0]=(l={},l[1]=1,l[3]=7,l),t[1]=(o={},o[2]=4,o[3]=2,o[5]=9,o[4]=3,o),t[2]=(d={},d[4]=3,d),t[3]=(g={},g[4]=3,g),t[4]=(a={},a[3]=5,a[4]=6,a),t[5]=(nt={},nt[4]=6,nt),t[6]=(tt={},tt[4]=6,tt),t[7]=(it={},it[4]=8,it),t[8]=(rt={},rt[4]=8,rt),t[9]=(ut={},ut[6]=10,ut),t[10]={},t);s=ht();b=i.Base.Constants.ResourceTypes;var k=function(n){return n.resourceTypes.map((function(t,i){return t+"/"+n.resourceIds[i]})).join("/")},c=function(n){return"/subscriptions/"+n.subscription},at=function(n){return c(n)+"/providers/"+n.provider},ii=function(n){return at(n)+"/"+k(n)},vt=function(n){return c(n)+"/resourceGroups/"+n.resourceGroup},yt=function(n){return vt(n)+"/providers/"+n.provider},ri=function(n){return yt(n)+"/"+k(n)},pt=function(n){return"/providers/"+n.provider},ui=function(n){return pt(n)+"/"+k(n)},wt=function(n){return c(n)+"/tagNames/"+n.tagName},fi=function(n){return wt(n)+"/tagValues/"+n.tagValue},ei=(r={},r[1]={sourceMap:(f={},f[1]=!0,f[2]=!0,f[3]=!0,f[4]=!0,f[5]=!0,f[6]=!0,f[9]=!0,f[10]=!0,f),builder:c},r[2]={sourceMap:(v={},v[2]=!0,v[3]=!0,v),builder:at},r[3]={sourceMap:(ft={},ft[3]=!0,ft),builder:ii},r[4]={sourceMap:(h={},h[4]=!0,h[5]=!0,h[6]=!0,h),builder:vt},r[5]={sourceMap:(y={},y[5]=!0,y[6]=!0,y),builder:yt},r[6]={sourceMap:(et={},et[6]=!0,et),builder:ri},r[7]={sourceMap:(p={},p[7]=!0,p[8]=!0,p),builder:pt},r[8]={sourceMap:(ot={},ot[8]=!0,ot),builder:ui},r[9]={sourceMap:(w={},w[9]=!0,w[10]=!0,w),builder:wt},r[10]={sourceMap:(st={},st[10]=!0,st),builder:fi},r),e,t,l,o,d,g,a,nt,tt,it,rt,ut,r,f,v,ft,h,y,et,p,ot,w,st})(u=t.ArmId||(t.ArmId={}))}));
define("Fx/Telemetry",["require","exports","f","o"],(function(n,t,i,r){"use strict";r.defineProperty(t,"__esModule",{value:!0});var u=i.Base.Diagnostics.Telemetry;t.trace=u.trace}));
define("Fx/UriBuilder",["require","exports","f"],(function(n,t,i){"use strict";return i.Base.UriBuilder}));
define("FxHubs/ArmHelpers/ArmApiEndpoints",["require","exports","i","o","Fx/Ajax"],(function(n,t,i,r,u){"use strict";function o(){return{uri:e,invokeApi:f}}r.defineProperty(t,"__esModule",{value:!0});var f=i.internalEnv.fxArmInvokeApi,e=u.getEndpoints().arm;t.getArmEndpointObject=o}));
define("FxHubs/RpcEndPoints",["require","exports","f","i","o"],(function(n,t,i,r,u){"use strict";var a,v,y,p,w,o,b,k,d,g,nt,tt,it,rt,ut;u.defineProperty(t,"__esModule",{value:!0});var c=i.Base,s=r.Rpc,e=s.FuncEndPointDefinition,l=s.ActionEndPointDefinition,h=s.FuncEndPointDefinition,f;(function(n){n.showWhatsNewModal="MsPortalHubs.RpcEndPoints.showWhatsNewModal";n.getPreloadData="MsPortalHubs.RpcEndPoints.getPreloadData";n.showUpdateContactModal="MsPortalHubs.RpcEndPoints.showUpdateContactModal";n.updateContactEmail="MsPortalHubs.RpcEndPoints.updateContactEmail";n.getAssetTypesInformationObservable="MsPortalHubs.RpcEndPoints.getAssetTypesInformationObservable";n.getSingleAssetTypeInformationObservable="MsPortalHubs.RpcEndPoints.getSingleAssetTypeInformationObservable";n.getResourceAssetInformation="MsPortalHubs.RpcEndPoints.getResourceAssetInformation";n.mapResourceIdToDynamicSelectionAndIcon="MsPortalHubs.RpcEndPoints.mapResourceIdToDynamicSelectionAndIcon";n.pingSelectedSubscriptionsList="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.pingSelectedSubscriptionsList";n.getDisplayedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getFirstPageAndSelectedSubscriptions";n.getSubscriptionsDisplayedInSession="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getSubscriptionsDisplayedInSession";n.getSelectedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getSelectedSubscriptions";n.getValidSelectedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getValidSelectedSubscriptions";n.getAllSubscriptionIds="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getAllSubscriptionIds";n.processSelectedSubscriptionChanges="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.processSelectedSubscriptionChanges";n.getOrSetUserSettingsSelectedSubscriptions="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getOrSetUserSettingsSelectedSubscriptions";n.getSubscriptionSearchResults="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getSubscriptionSearchResults";n.getAllSubscriptionsCount="MsPortalHubs.RpcEndPoints.SelectedSubscriptions.getAllSubscriptionsCount";n.search="MsPortalHubs.RpcEndPoints.search";n.getLocations="MsPortalHubs.RpcEndPoints.getLocations";n.getSharedCuration="MsPortalHubs.RpcEndPoints.getSharedCuration";n.getRecentResources="MsPortalHubs.RpcEndPoints.getRecentResources";n.getMarketplaceUserSettings="MsPortalHubs.RpcEndPoints.Marketplace.getMarketplaceUserSettings";n.publishIrisNotificationsTelemetry="MsPortalHubs.RpcEndPoints.publishIrisNotificationsTelemetry";n.getSpecsCosts="getSpecsCosts"})(f=t.Constants||(t.Constants={})),(function(n){n.isArtBrowseEnabledEndpoint=new e("MsPortalHubs.RpcEndPoints.isArtBrowseEnabled")})(a=t.ArtBrowse||(t.ArtBrowse={})),(function(n){n.getAssetTypesInformationObservableEndPoint=new s.ProxiedObjectTypeDefinition(f.getAssetTypesInformationObservable);n.getSingleAssetTypeInformationObservableEndPoint=new s.ProxiedObjectTypeDefinition(f.getSingleAssetTypeInformationObservable);n.getResourceAssetInformationEndPoint=new e(f.getResourceAssetInformation);n.getRecentResourcesEndPoint=new e(f.getRecentResources)})(v=t.AssetTypes||(t.AssetTypes={})),(function(n){n.showWhatsNewModal=new e(f.showWhatsNewModal)})(y=t.WhatsNew||(t.WhatsNew={})),(function(n){n.showUpdateContactModal=new e(f.showUpdateContactModal);n.updateContactEmail=new e(f.updateContactEmail)})(p=t.UpdateContact||(t.UpdateContact={})),(function(n){n.pingSelectedSubscriptionsListEndPoint=new e(f.pingSelectedSubscriptionsList)})(w=t.SelectedSubscriptions||(t.SelectedSubscriptions={})),(function(n){n.getDisplayedSubscriptionsEndPoint=new e(f.getDisplayedSubscriptions);n.getSubscriptionsDisplayedInSessionEndPoint=new e(f.getSubscriptionsDisplayedInSession);n.getSelectedSubscriptionsEndPoint=new e(f.getSelectedSubscriptions);n.getValidSelectedSubscriptionsEndPoint=new e(f.getValidSelectedSubscriptions);n.getAllSubscriptionIdsEndPoint=new e(f.getAllSubscriptionIds);n.processSelectedSubscriptionChangesEndPoint=new e(f.processSelectedSubscriptionChanges);n.getOrSetUserSettingsSelectedSubscriptionsEndPoint=new e(f.getOrSetUserSettingsSelectedSubscriptions);n.getSubscriptionSearchResultsEndPoint=new e(f.getSubscriptionSearchResults);n.getAllSubscriptionsCountEndPoint=new e(f.getAllSubscriptionsCount)})(o=t.Subscriptions||(t.Subscriptions={})),(function(n){n.getMarketplaceUserSettingsEndPoint=new e(f.getMarketplaceUserSettings)})(b=t.Marketplace||(t.Marketplace={})),(function(n){n.getSpecsCostsEndPoint=new e(f.getSpecsCosts)})(k=t.SpecsData||(t.SpecsData={})),(function(n){n.getSharedCurationEndpoint=new e(f.getSharedCuration)})(d=t.Curation||(t.Curation={})),(function(n){n.searchEndpoint=new e(f.search)})(g=t.Search||(t.Search={})),(function(n){function e(n){return Q(o.getDisplayedSubscriptionsEndPoint.invoke(n,t,null))}function h(n){return Q(o.getSubscriptionsDisplayedInSessionEndPoint.invoke(n,t,null))}function l(n){return Q(o.getSelectedSubscriptionsEndPoint.invoke(n,t,null))}function a(n,i){return Q(o.getValidSelectedSubscriptionsEndPoint.invoke(n,t,i))}function v(n){return Q(o.getAllSubscriptionIdsEndPoint.invoke(n,t,null))}function y(n){return Q(o.getAllSubscriptionsCountEndPoint.invoke(n,t,null))}function p(n,i){return Q(o.processSelectedSubscriptionChangesEndPoint.invoke(n,t,i)).then((function(n){var t=n.selectedSubscriptions,i=n.areAllSubsSelected;return{displayedSubscriptionsItems:i?t.slice(0,1e3):n.displayedSubscriptionsItems,selectedSubscriptions:t,areAllSubsSelected:i}}))}function w(n,i){return Q(o.getSubscriptionSearchResultsEndPoint.invoke(n,t,i))}function b(n,t){return Q(r.Extension.mapResourceIdToDynamicSelectionAndIconEndPoint.invoke(s.client,c.Constants.Shell,{resourceId:n,forceBladeSelection:!0}).then((function(n){return i(n.selection,t)})))}function i(n,t){return Q(new u.PdlBladeReference(n.detailBlade,n.extension,{parameters:n.detailBladeInputs,onClosed:t}))}var u=r.Composition.Selectable,t=r.Extension.getHubsWindowId();n.getFirstPageAndSelectedSubscriptions=e;n.getSubscriptionsDisplayedInSession=h;n.getSelectedSubscriptions=l;n.getValidSelectedSubscriptions=a;n.getAllSubscriptionIds=v;n.getAllSubscriptionsCount=y;n.processSelectedSubscriptionChanges=p;n.getSubscriptionSearchResults=w;n.mapResourceIdToBladeReference=b;n.mapDynamicBladeSelectionToBladeReference=i;n.irisTelemetryEndpoint=new s.ActionEndPointDefinition(f.publishIrisNotificationsTelemetry)})(nt=t.Impl||(t.Impl={})),(function(n){n.readBrowserStorageSettingsEndpoint=new h("Shell.readBrowserStorageSettings");n.writeBrowserStorageSettingsEndpoint=new l("Shell.writeBrowserStorageSettings")})(tt=t.BrowserStorageSettings||(t.BrowserStorageSettings={})),(function(n){n.getFilters=new h("Shell.getFilters");n.getFilterValues=new h("Shell.getFilterValues");n.getFilterValueDisplayText=new h("Shell.getFilterValueDisplayText");n.getFilterWarning=new h("Shell.getFilterWarning")})(it=t.PartFilterEndpoints||(t.PartFilterEndpoints={})),(function(n){n.getDashboardDeepLink=new h("Shell.getDashboardDeepLink")})(rt=t.DashboardEndpoints||(t.DashboardEndpoints={})),(function(n){n.getPreloadData=new e(f.getPreloadData)})(ut=t.PortalData||(t.PortalData={}))}));
define("FxHubs/ArmHelpers/ArmApisStartup",["require","exports","f","i","o","Fx/Ajax","FxHubs/RpcEndPoints","FxHubs/ArmHelpers/ArmApiEndpoints"],(function(n,t,i,r,u,f,e,o){"use strict";function bi(){return o.getArmEndpointObject().uri}function ki(){return o.getArmEndpointObject().invokeApi}function y(n){return n.replace(yi,"")}function d(n){return"/"+y(n)}function c(n){return(n||"").toLowerCase()}function p(n){return n.replaceAll("'","''")}function di(n,t){var r=i.trimEnd(t,"/")+i.ensurePrefix(n,"/"),u=vi.exec(r);return u||ut.invalidUrlEndpoint(r),r=u[1]?u[1]+"/":"",r+=y(u[7]).replace(pi,"/"),!u[1]&&u[7].startsWith("/")&&(r="/"+r),r+(u[8]||"")}function gi(n){var t=c(n);return!n||t.startsWith("hidden-")||t.startsWith("link:")}function nr(n){return rt(n)?n:di(n,t.getArmEndpointUri())}function tr(n){return{reason:n.trim(),extension:tt}}function ir(n){var t,u,r;return n?(t=c(n.extension||it),t=t===c(tt)?"":"("+t+") ",u=n.reason||"unknown",r=""+t+u,r.length<=60)?r:(t=i.replaceMany(t,{azure:"az",extension:"",microsoft:"ms"}),r=""+t+u,r.length<=60)?r:r.substr(0,57)+"...":null}function rr(n,i,r){n.length>t.maxBatchCallCount&&ut.batchLimitExceeded();var u=n.map((function(n){return rt(n)?{httpMethod:"GET",url:n}:{httpMethod:"GET",url:n}})),e={requests:u};return Q(f.ajaxExtended({contentType:l,headers:{accept:l},isBackgroundTask:i,invokeApi:null,setAuthorizationHeader:!0,setTelemetryHeader:t.shortenTelemetryForAjax(r),type:"POST",uri:f.getEndpoints().armBatch,data:ct(e)})).then((function(n){return(n.content||{}).responses||[]}))}function et(n,i,r,u,f){if(!n.length)return Q();var e=n.pop(),o=t.getAbsoluteArmUri(e);return Q(kt({headers:{accept:l},isBackgroundTask:u,armApiOrUri:o,telemetry:f,httpMethod:"GET"})).then((function(t){var o=t.content,h=o&&o.value,s;return o?h?i(h)===!1?n=[]:(s=o.nextLink,s&&n.push(s)):r({api:e,reason:"Expected response.value not found."}):r({api:e,reason:"Expected response not found."}),et(n,i,r,u,f)}),(function(t){return r({api:e,reason:t}),et(n,i,r,u,f)}))}function ur(n,t,i,r){return et(n,t,i,!1,r)}function kt(n){var e=n.armApiOrUri,o=n.httpMethod,r=n.data,c=n.isBackgroundTask,a=n.dataType,p=n.telemetry,w=n.useApiInvoke,b=n.filterEmptyResponse,k=n.performRetry,s=n.noBatch,d=t.getAbsoluteArmUri(e),u={headers:n.headers||{accept:l},isBackgroundTask:c,performRetry:k,invokeApi:w!==!1?t.getArmInvokeApi():null,setAuthorizationHeader:!0,setTelemetryHeader:t.shortenTelemetryForAjax(p),type:o,uri:d},v,y,h;return(r&&(u.contentType=l,u.data=typeof r=="string"?r:ct(r)),b&&(u.dataFilter=function(n,t){return t==="json"&&!n?"{}":n}),a&&(u.dataType=a),v=t.getAbsoluteArmUri("/"),s||!rt(e)||~e.indexOf(v)||(s=!0),!s&&["get","post","delete","head","put"].includes(o.toLowerCase()))?(y=c?4:1,h={options:y,setTelemetryHeader:u.setTelemetryHeader,type:o,uri:e},r&&i.extend(h,{content:r}),f.batch(h).then((function(n){return{content:n.content,jqXHR:{responseJSON:n.content,status:n.httpStatusCode,getResponseHeader:function(t){return n.headers[t]}}}}),(function(n){throw{errorThrown:i.getLogFriendlyMessage(n),jqXHR:{responseJSON:n.content,responseText:n.content,status:n.httpStatusCode,getResponseHeader:function(t){return n.headers[t]}}};}))):Q(f.ajaxExtended(u))}function fr(n,i,r,u,f,e,o,s){return t.callRaw({armApiOrUri:n,httpMethod:i,data:r,dataType:"json",telemetry:u,useApiInvoke:f,filterEmptyResponse:e,performRetry:o,headers:s}).then((function(n){return n.content}))}function dt(n,t,i,r,u){u=u||{};var e=n,o=function(){if(e.length){var s=!1,h=[],c=[],l=e.map((function(e,o){var l=e.originalIndex===undefined?o:e.originalIndex,v=n[l],a=v.uri;return c.push(a),f.batch({options:r?4:1,uri:e.uri,setTelemetryHeader:e.telemetry+(e.lastChunk||"")}).then((function(n){var o;if(!s){var r=n.content||{},f=r,c="",v={value:0,type:"None"};e.arrayResponse&&(f=r.value,c=r.nextLink,u.additionalResponseInfo&&(o=r.count,o&&(v.value=o.value,v.type=o.type)));!r||!f||n.httpStatusCode>=400?i({api:a,reason:n}):t(f,l,{countData:v})===!1?s=!0:c&&h.push({uri:c,arrayResponse:!0,telemetry:e.telemetry,originalIndex:l,lastChunk:"."+f.length})}})).catch((function(n){if(n.httpStatusCode)i({api:a,reason:n});else return Q.reject(n)}))}));return Q.all(l).then((function(){if(!s)return e=h,o()})).catch((function(n){return i({api:c.join("|"),reason:n}),s?void 0:(e=h,o())}))}return Q()};return o()}function er(n,t,i,r){var u=[],f=[],e=Q.defer();return dt(n.map((function(n){return{uri:n,arrayResponse:r,telemetry:i}})),(function(n){u=u.concat(n)}),(function(n){f.push(n)}),t).then((function(){f.length?e.reject(f):e.resolve(u)})),e.promise}function or(){return"/locations"+k}function sr(){return"/tenants"+ai}function hr(n){return n=n.replace(new RegExp("^/subscriptions/"),""),"/subscriptions/"+n+k}function cr(n,t,i){return gt(n,t,(function(n){return i&&i("resourcegroup eq '"+n+"'")}))}function gt(n,t,i){var r;return h.isSubscriptionId(t)?[h.parseSubscriptionDescriptor(t).subscription]:lt(t)?(r=h.parseResourceGroupDescriptor(t),i&&i(r.resourceGroup),[r.subscription]):at(t)&&!h.isTenantResource(t)?(r=vt(t),i&&i(r.resourceGroup),[r.subscription]):n||[]}function lr(n,t,u){var f=i.makeArray(n).filter((function(n){return!i.find(w,(function(t){return n.extensionName===t.extensionName&&n.assetType===t.assetType&&i.deepEquals(n.assetId,t.assetId)}))})),e;w.push.apply(w,f);e=f.map((function(n){var i=n;return i.reason=t,i}));r.AssetManager.hubsNotifyAssetDeletedDefinition.invoke(u||ui.client,it,e).finally((function(){Q.delay(2e3).then((function(){w.remove.apply(w,f)}))}))}function ar(){var n=i.isFeatureEnabled("newsubsapiversion")?1:0,t=i.isFeatureEnabled("mgsubs")?1:0;return"/subscriptions"+wi[n][t]}function vr(n){return"/subscriptions/"+n+"/locations"+v}function yr(n){return"/"+y(n)+"/providers/microsoft.authorization/permissions?api-version="+hi}function ni(n,i,r,u,f){var o;f===void 0&&(f=null);var h="eventTimestamp",c=new s.UriBuilder("/subscriptions/"+i+"/providers/microsoft.insights/eventtypes/management/"+n),e=h+" ge '"+r.toISOString()+"' and "+h+" le '"+u.toISOString()+"'";return f&&f.length&&(e=f+" and "+e),o=c.query,o.setParameter(a,t.eventsApiVersion),o.setParameter("$filter",e),c.toString()}function pr(n,t,i,r){return r===void 0&&(r=null),ni("values",n,t,i,r)}function wr(n,t,i,r){return r===void 0&&(r=null),ni("digestEvents",n,t,i,r)}function br(n){return"/subscriptions/"+n+"/providers/microsoft.authorization/classicAdministrators"+ci}function g(n){return!!n}function ot(n,t){c(n).split(" ").forEach((function(n){n&&t.push("substringof('"+p(n)+"', name)")}))}function b(n,t,r,u){var e=u?"ne":"eq",f=i.makeArray(t).filter(g).map((function(t){return n+" "+e+" '"+p(c(t))+"'"})).join(u?" and ":" or ");f&&r.push(f)}function kr(n,t,i,r,u,f,e){var h=new s.UriBuilder("/resources"),o=[n.map((function(n){return"subscriptionId eq '"+n+"'"})).join(" or "),],c;return ot(i,o),b("resourcegroup",f,o,e),b("location",u,o),b("resourceType",t,o),r&&o.push.apply(o,r),h.query.setParameter(a,yt),c=o.filter(g).map((function(n){return"("+n+")"})).join(" and "),c&&h.query.setParameter("$filter",c),h.toString()}function dr(n,t,i){var r=new s.UriBuilder("/providers/"+n.topLevelTenantAlias),u=[],f;return(n.proxyRoutingFilters||[]).forEach((function(n){switch(n){case 1:ot(t,u);break;case 3:b("location",i,u);break;default:ht.error("Unhandled proxy routing filter: <"+n+">")}})),r.query.setParameter(a,n.apiVersion),f=u.filter(g).map((function(n){return"("+n+")"})).join(" and "),f&&r.query.setParameter("$filter",f),r.toString()}function gr(n,t,i,r,u,f){var o=new s.UriBuilder("/subscriptions/"+n+"/providers/"+t.topLevelResourceTypeAlias),e=[],h;return(t.proxyRoutingFilters||[]).forEach((function(n){switch(n){case 1:ot(i,e);break;case 2:b("resourcegroup",u,e,f);break;case 3:b("location",r,e);break;default:ht.error("Unhandled proxy routing filter: <"+n+">")}})),o.query.setParameter(a,t.apiVersion),h=e.filter(g).map((function(n){return"("+n+")"})).join(" and "),h&&o.query.setParameter("$filter",h),o.toString()}function nu(n){return"/subscriptions/"+y(n)+"/tagnames"+k}function ti(n,t){var i="/subscriptions/"+y(n)+"/resourcegroups"+v;return t&&(i=i+"&$top=1"),i}function ii(n,t){var i="/subscriptions/"+y(n)+"/resources"+v;return t&&(i=i+"&$top=1"),i}function tu(n,t,i){var r=new s.UriBuilder(ti(n)),u=["tagname eq '"+p(t)+"'",i?"tagvalue eq '"+p(i)+"'":null,].filter((function(n){return!!n})).join(" and ");return r.query.setParameter("$filter",u),r.toString()}function iu(n,t,i){var r=new s.UriBuilder(ii(n)),u=["tagname eq '"+p(t)+"'",i?"tagvalue eq '"+p(i)+"'":null,].filter((function(n){return!!n})).join(" and ");return r.query.setParameter("$filter",u),r.toString()}function ru(n,t){return t?d(n)+li:d(n)+v}function uu(n){var i=new s.UriBuilder(d(n)),r=i.query;return r.getParameter(a)?Q(i.toString()):t.getLatestApiVersion(i.path).then((function(n){return r.setParameter(a,n),i.toString()}))}function fu(n){var i,u,r,f;if(!i)for(u=n.split("/"),r=u.length-1;r;){if(f=u.slice(0,r).join("/"),t.resourceTypeApiVersionDictionary[f]){i=t.resourceTypeApiVersionDictionary[f];t.resourceTypeApiVersionDictionary[n]=i;break}r--}return i}function eu(i){if(lt(i))return Q(yt);if(h.isSubscriptionId(i))return Q(si);if(at(i)){var r=vt(i),u=c(r.provider+"/"+r.types.join("/")),o;return ft||(ft=e.AssetTypes.getAssetTypesInformationObservableEndPoint.acquireObject(ei,it,undefined).then((function(n){var i=n&&n.getValue();i.forEach((function(n){var i=n.resourceType,r=n.apiVersion;i&&r&&(t.resourceTypeApiVersionDictionary[c(i)]=r)}))}))),ft.then((function(){if(o=t.resourceTypeApiVersionDictionary[u],o)return Q(o);fi.trace({source:tt,action:"MissingApiVersion",actionModifier:u});var e=r.subscription,s=r.provider,h=(!e?"/providers/"+s:"/subscriptions/"+e+"/providers/"+s)+v,a=t.getAbsoluteArmUri(h);return Q(f.ajaxExtended({uri:a,invokeApi:t.getArmInvokeApi(),type:"GET",headers:{accept:l},setAuthorizationHeader:!0,setTelemetryHeader:"getLatestApiVersion"})).then((function(n){var i=n&&n.content&&n.content.resourceTypes||[];return i.forEach((function(n){var i=n.apiVersions||[],f=i.first((function(n){return n&&oi.test(n)})),u=c(r.provider+"/"+n.resourceType);t.resourceTypeApiVersionDictionary[u]||(t.resourceTypeApiVersionDictionary[u]=f||i[0])})),t.resourceTypeApiVersionDictionary[u]||fu(u)||t.resourceTypeApiVersion}),(function(r){return nt.createLog(n).warning(i+" using api ver "+t.resourceTypeApiVersion+". Error "+r.responseText),t.resourceTypeApiVersion}))}))}return Q.reject("Unexpected id "+i)}function ri(n){n.httpMethod=n.httpMethod||"GET";var i=t.getAbsoluteArmUri(n.armApiOrUri),r={headers:{accept:l},setAuthorizationHeader:!0,setTelemetryHeader:t.shortenTelemetryForAjax(n.telemetry),type:n.httpMethod,uri:i};return Q(f.batch(r))}function ou(n){return ri(n).then((function(t){return n.responseFilter=n.responseFilter||function(n){if([200,202,201,204,].indexOf(n.httpStatusCode)===-1)throw r.Azure.buildSimplifiedError(n.content);},n.responseFilter(t,n.armApiOrUri),t.content}))}function su(n){return d(n)+"/resources"+v}var bt,ut,ft,w;u.defineProperty(t,"__esModule",{value:!0});var s=i.Base,st=s.Constants,nt=s.Diagnostics,ui=r.Rpc,fi=nt.Telemetry,h=i.ViewModels.Services.ResourceTypes,ht=nt.createLog(n),tt=st.ExtensionNames.Hubs,it=st.Shell,ei=r.Rpc.client,ct=JSON.stringify,lt=h.isResourceGroupId,at=h.isResourceId,rt=s.Resources.isUriAbsolute,vt=h.parseResourceDescriptor,l="application/json",oi=new RegExp("^[0-9-]+$","ig");t.resourceTypeApiVersion="2014-04-01";t.eventsApiVersion="2014-04-01";var yt="2014-04-01-preview",si="2016-06-01",hi="2018-01-01-preview",a="api-version",v="?api-version=2014-04-01-preview",ci="?api-version=2014-07-01-preview",k="?api-version=2016-06-01",li="?api-version=2016-09-01",ai="?api-version=2017-08-01",pt="?api-version=2018-06-01",vi=/^((https?:)(\/\/\/?)([\w]*(?::[\w]*)?@)?([\d\w\.-]+)(?::(\d+))?)?([^?]*)?(?:(.*)?)$/i,yi=/^[\s\/\/]*|[\/\/]*$/g,pi=/\/\//g,wt="&$expand=inherited",wi=[[k,"?api-version=2018-05-01"+wt],[pt,pt+wt],];t.maxBatchCallCount=20;bt={batchLimitExceeded:"",invalidUrlEndpoint:"",endpointNotFound:""};ut=r.getErrorMap(bt);t.getArmEndpointUri=bi;t.getArmInvokeApi=ki;t.isHiddenTag=gi;t.getAbsoluteArmUri=nr;t.makeResourceManagerTelemetry=tr;t.shortenTelemetryForAjax=ir;t.callBatch=rr;t.callWithContinuation=ur;t.callRaw=kt;t.call=fr;t.callBatchWithContinuation=dt;t.callBatchAndFollowContinuationTokens=er;t.listLocationsApi=or;t.listTenantsApi=sr;t.getSubscriptionApi=hr;t.filterSubscriptionsByScope=cr;t.filterSubscriptionsByScopeByResourceGroup=gt;w=[];t.internalNotifyAssetDeleted=lr;t.listSubscriptions=ar;t.listSubscriptionLocationsApi=vr;t.getPermissionsApi=yr;t.getEventsApi=pr;t.getEventDigestsApi=wr;t.listClassicAdministratorsApi=br;t.resourceTypeApiVersionDictionary={"aspera.transfers/services":"2016-03-25","cloudyn.analytics/accounts":"2016-03-01","conexlink.mycloudit/accounts":"2015-06-15","hive.streaming/services":"2016-03-18","microsoft.bingmaps/mapapis":"2015-07-02","microsoft.visualstudio/account/project":"2014-02-26","pokitdok.platform/services":"2016-05-17","raygun.crashreporting/apps":"2015-01-01","signiant.flight/accounts":"2015-06-29","trendmicro.deepsecurity/accounts":"2015-06-15"};t.resourcesAcrossSubscriptionsApi=kr;t.tenantResourcesApi=dr;t.providerProxyResourcesApi=gr;t.subscriptionTagsApi=nu;t.resourceGroupsInSubscriptionApi=ti;t.resourcesInSubscriptionApi=ii;t.resourceGroupsWithTagApi=tu;t.resourcesWithTagApi=iu;t.resourceGroupApi=ru;t.resourceApi=uu;t.getLatestApiVersion=eu;t.callRawUsingBatch=ri;t.callUsingBatch=ou;t.resourcesInResourceGroupApi=su}));
define("FxHubs/HubsSettingsSchema",["require","exports","i","o"],(function(n,t,i,r){"use strict";var f,e,u;r.defineProperty(t,"__esModule",{value:!0});f=i.Rpc;e=i.Constants.RpcMethods;t.readHubsUserSettings=new f.FuncEndPointDefinition(e.shellReadUserSettings);t.writeHubsUserSettings=new f.ActionEndPointDefinition(e.shellWriteUserSettings),(function(n){var t="gallery_create",r=t+"Launcher_lastUsed";n.createLastDeployedItems=t+"_lastDeployed_galleryItems";n.createLauncherLastUsedSubscriptionId=r+"_subscriptionId";n.createLauncherLastUsedResourceGroupLocation=r+"_resourceGroupLocation";n.deploymentsLastUsedLocations=i.Azure.lastUsedLocationsKey;n.whatsNewLastNotificationTime="whatsNew_lastNotificationTimestamp";n.lastRecommendationsFetchTime="recommendations_lastFetchTimestamp";n.subscriptionsSelected="subscriptions_selected";n.pastDueSubscriptionsSnoozed="pastduesubscriptions_snoozed";n.browseColumnsSettings="browse_columns";n.recentResourcesSettings="browse_recentResources"})(u=t.Keys||(t.Keys={}));t.allowedUserSettingsKeys=[u.createLastDeployedItems,u.createLauncherLastUsedSubscriptionId,u.createLauncherLastUsedResourceGroupLocation,u.deploymentsLastUsedLocations,];t.writeBrowsePreviewOptInFlagEndpoint=new f.ActionEndPointDefinition("writeBrowsePreviewOptInFlag")}));
define("FxHubs/MarketplaceRpc",["require","exports","f","i"],(function(n,t,i,r){"use strict";var u;return (function(n){function t(){return r.Extension.getWindowId({name:u.Constants.ExtensionNames.Marketplace})}function f(n){return i.Services.Rpc.invokeCallback(t(),"getCreateFlow",n).then((function(n){return n})).catch((function(n){throw n;}))}function e(n,r){return i.Services.Rpc.invokeCallback(t(),"validateSubscriptions",{galleryItem:n,subscriptions:r})}var u=i.Base;n.getCreateFlow=f;n.validateSubscriptions=e})(u||(u={})),u}));
define("FxHubs/Permissions",["require","exports","f","i","ko"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function y(n,t){if(!t&&a.fxDisableRbacCache)return{getPermissions:n,getCachedPermissions:function(){return{}},clear:i.noop};var r,u=function(){return r=r||{}};return{getPermissions:function(t){var r=u(),f=r[t]||(r[t]=i.memoizeQ((function(){return Q(n(t))})));return f()},getCachedPermissions:u,clear:function(n){var i=u(),t=i[n];t&&t.clear()}}}function p(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function w(n){n=n.replace(o,"\x00");var t=p(n).replace(o,".*").replace("\x00",o).replace("\\t","\t").replace("\\n","\n").replace("\\r","\r").replace("\\\\","\\").replace("\\'","'");return new RegExp("^"+t+"$","i")}function h(n){return w(n)}function b(n){var t=(n.actions||[]).map(h),i=(n.notActions||[]).map(h);return{actions:t,notActions:i}}function k(n,t){var i=!!t.actions.first((function(t){return t.test(n)})),r=!!t.notActions.first((function(t){return t.test(n)}));return i&&!r}function d(n,t,i,r){if(!t||!r||r.length===0)return!1;var u=r.map(b);return t.every((function(n){return n.length>1&&n.charAt(0)==="."&&n.charAt(1)==="/"&&(n="{resourceType}"+n.substring(1)),n=n.format(i),!!u.first((function(t){return k(n,t)}))}))}var c=i.Base,l=r.Rpc,t=i.ViewModels.Services.ResourceTypes,e=l.FuncEndPointDefinition,a=window,g=i.isDevelopmentMode,o="\\*",nt=new c.Diagnostics.Log("MsPortalFx/Azure/ResourceManager/Permissions"),f,v,s;(function(n){n.hasPermissionToHubs="MsPortalHubs.Constants.RpcMethods.hasPermissionToHubs";n.getPermissionToHubs="MsPortalHubs.Constants.RpcMethods.getPermissionToHubs";n.isCoAdmin="MsPortalHubs.Constants.RpcMethods.isCoAdmin"})(f=n.RpcMethodNames||(n.RpcMethodNames={})),(function(n){n.hasPermissionsToHubs=new e(f.hasPermissionToHubs);n.getPermissionsToHubs=new e(f.getPermissionToHubs);n.isCoAdminEndpoint=new e(f.isCoAdmin)})(v=n.Rpc||(n.Rpc={}));n.createCachedPermissionsGetter=y;s=(function(){function n(){}return n.hasPermission=function(r,f,e,o){var h,s,c,l;if(typeof r!="string")return Q().then((function(){throw new Error("EntityId is not a string. "+u.toJSON(r));}));if(r.charAt(0)!=="/"&&(r="/"+r),n.isRDFEAction(f))return s=new i.Errors.Error("Cannot evaluate RDFE actions, get permissions directly from hubs"),s.data={id:r,reqActions:f},Q.reject(s);if(t.isResourceGroupId(r))h="Microsoft.Resources/subscriptions/resourceGroups";else if(t.isSubscriptionId(r))h="Microsoft.Resources/subscriptions";else if(t.isResourceManagerId(r))h=t.buildResourceTypeFromResourceManagerId(r);else return s=new i.Errors.Error("Invalid subscription, resource or resource group id '"+t.sanitizeId(r)+"'"),s.data={id:r,reqActions:f},Q.reject(s);return c={resourceType:h},l=e&&e.length?Q([{actions:e||[],notActions:[]}]):Q(o(r)),l.then((function(n){return d(r,f,c,n)}),(function(){return!0}))},n.isRDFEAction=function(n){return n&&n.length===1&&n[0]==="rdfe"},n})();n.PermissionChecker=s})(f||(f={})),f}));
define("FxInternal/Composition/ViewModel",["require","exports","o"],(function(n,t,i){"use strict";function r(n){return n&&n._msPortalFx_viewModelApiV2}function u(n){return n._msPortalFx_viewModelApiV2=!0,n}i.defineProperty(t,"__esModule",{value:!0});t.isV2=r;t.markAsV2=u}));
define("FxInternal/Di",["require","exports","i","o","Fx/DependencyInjection"],(function(n,t,i,r,u){"use strict";function f(n,t){return t}r.defineProperty(t,"__esModule",{value:!0});t.Class=u.Class;t.Factory=u.Factory;t.Container=u.Container;t.createContainer=u.createContainer;t.container=u.container;u.Class()(i.Rpc.Client);t.container.set(i.Rpc.Client,i.Rpc.client);u.Class()(i.Features);t.container.set(i.Features,i.features);t.defineHandler=f}));
define("FxInternal/Composition/ViewModelComposer",["require","exports","f","i","o","ko","FxInternal/Di","Fx/Composition/Pdl/Blade"],(function(n,t,i,r,u,f,e,o){"use strict";function y(n,t){return!!(t.onInputsSetParameters&&n.updatePartInputValues)}function p(n,t){var r=t.onInputsSetParameters,u;return delete t.onInputsSetParameters,u=i.extend2(r.dashboardFilters||{},r.partFilters),n.updatePartInputValues(r.inputs,r.settings,r.traceOptions,r.viewModelName,r.inputsMetadata,r.dontCallViewModelOnInputsSet,u)}function rt(n,t){var u=n.container,i;if(n instanceof s.Part)i=u.operations.blockingUi;else if(n instanceof r.ViewModels.CompositionViewModel)i=f.pureComputed((function(){return n.state()===c.CompositionState.Preparing}));else throw new Error("Unexpected view model");i.fxOnceAndRun(u,(function(){t()}),(function(n){return!n}))}function w(n,t){function s(){l.forEach((function(t){var e,s;t in r&&(e=r[t],t in u?e!==u[t]&&it.error("Property changed non-observably, use an observable instead and update its value: '"+t+"' in '"+h+"' in '"+i.getEnvironmentValue("extensionName")+"'"):(s=n.chrome[t],f.isObservable(e)?(s(e()),e.subscribe(o,s)):s(e),u[t]=e))}))}var r;if((n.getViewModelOptions=t,r=n.content(),r&&r._msPortalFx_viewModelApiV2)&&y(n,t)){delete t.partSize;n.onInputsSetPromise=p(n,t);n.chrome=l.reduce((function(n,t){return n[t]=f.observable(),n}),{});var u={},e=n.container,h=t.locator&&t.locator.name,o=e.createChildLifetime();return s(),n.content(null),rt(n,(function(){s();n.content(r);n.content.subscribe(e,(function(n){r=n;u={};o.dispose();o=e.createChildLifetime();s()}))})),n}}function ut(n,t,i,r){var f=t&256,u=f?new v.BladeContainer(i,r):new s.PartContainer(i,r);return f&&n.set(o.Container,u),n.set(s.ContainerContract,u).set(s.PartContainerContract,u),u}function ft(n){return!!n.ViewModelAdapter}function b(t,r,u,f){var e=tt.getRuntime(),o=e&&!e._entryPoint.viewModelFactories;return o?(t.export&&t.module||e._manifest&&e._manifest.assetTypes&&(t=i.find(e._manifest.assetTypes,(function(n){return n.viewModelLocator&&n.viewModelLocator.name===t.name})).viewModelLocator),i.tryImmediateResolve(i.require(t.module,n),(function(n){return h.usingState((function(){var i=n[t.export];return ft(i)?new i(u(),null,null):u().getAsync(i)}),r)}))):f()}function k(n,t,i,r){var o=t?s.Part.createSelectableViewModel():undefined,u=t?new s.Internal.SelectableContainerViewModel({selectable:o}):new s.Internal.ContainerViewModel,f=n(u),e=function(t){var f=new c.CompositionViewModel(u,t,r,function(){return n(u)});return i&&i(t),f};return Q.isPromiseAlike(f)?f.then(e):e(f)}function a(n,t,i,r,u,f){return Q(k((function(r){return b(n,t,(function(){var n=e.container.createChildContainer("viewModel");return n.set(s.ContainerContract,r),n.set(s.CommandContainerContract,r),r.registerForDispose((function(){return n.disposeAsync()})),n}),(function(){return i(r)}))}),r,u,f))}function g(n,t){function u(t){return function(){var i=n[t.method],r=typeof i;if(r==="function")return i.apply(n,t.args);throw new Error("EarlyExecTask failed to execute "+t.method+". Expected a function, however type is  "+r);}}var r=[],i,f;t&&(i=t&&t.tasks,i&&i.length>0&&(t.taskExecType!==1?(f=i.reduce((function(n,t){return n.then(u(t))}),Q()),r=[f]):r=i.map((function(n){return Q.fcall(u(n))}))),typeof t.keepReturnsIn=="string"&&(n["_msPortalFx_earlyExec"+t.keepReturnsIn]=r))}var l,d;u.defineProperty(t,"__esModule",{value:!0});var nt=i.Base,s=i.ViewModels,h=r.TelemetryContext,tt=r.Extension,v=r.Composition.BladeContainer,c=r.ViewModels,it=nt.Diagnostics.createLog(n);e.Class("viewModel")(s.CommandContainerContract);e.Class("viewModel")(s.ContainerContract);e.Class("viewModel")(s.PartContainerContract);l=["title","subtitle","icon","statusBar","menuContent","_msPortalFxV2ShellApi",];t.createViewModelWrapper=w;t.composeViewModel=k;t.composeViewModelWithDi=a;d=(function(){function n(n,t){this._manifest=n;this._entryPoint=t}return n.prototype.earlyOnInputsSet=function(n,t,i){var u,r=n.getValue(),o=r.getViewModelOptions,e,s;delete r.getViewModelOptions;y(r,o)&&(u=Q.defer(),r.onInputsSetPromise=u.promise);i(n,t);e=r.content();s=o.partSize;typeof s=="number"&&e&&f.isObservable(e.size)&&e.size(s);u&&u.resolve(p(r,o))},n.prototype.getObservable=function(n){var i=this,r=n.telemetryContext,t;if(n.type&128?t=h.usingState((function(){return i.getPartViewModel(n)}),r):this._entryPoint.getViewModel&&(t=h.usingState((function(){return i.getViewModel(n)}),r)),t)return t.then((function(t){return w(t,n)||t}));throw new Error("Cannot provide the required object.");},n.prototype.getGalleryServiceViewModel=function(){var i=this,n=this._manifest&&this._manifest.galleryService&&(this._manifest.galleryService.serviceViewModelLocator||this._manifest.galleryService&&{name:this._manifest.galleryService.serviceViewModel}),t;return n?(t=a(n,null,(function(t){return i._entryPoint.getViewModel(n.name,t)}),!1),Q(t).then((function(n){return n.content=f.unwrap(n.content),n}))):Q()},n.prototype.getViewModel=function(n){var t=this,i=n.earlyExecTasks&&function(t){g(t,n.earlyExecTasks)};return a(n.locator,n.telemetryContext,(function(i){return t._entryPoint.getViewModel(n.locator.name,i)}),n.createSelectable,i)},n.prototype.getPartViewModel=function(n){var y=this,r=e.container.createChildContainer("viewModel"),p=v.bindActionBar,u=n.initialState,o=c.createFrameworkPartViewModel(),h=n.collapsed,w={selectable:n.createSelectable?s.Part.createSelectableViewModel(u):undefined,location:n.partLocation,flags:n.flags},t=ut(r,n.type,o,w);n.contentSize&&(t.height(n.contentSize.height),t.width(n.contentSize.width));var l=function(){return b(n.locator,n.telemetryContext,(function(){return r}),(function(){return y._entryPoint.getPartViewModel(n.locator.name,t,u)}))},f=l(),k="Extension/"+this._manifest.name+"/PartType/"+n.locator.name,a=function(f){i.isNullOrUndefined(h)||f.collapsed(h);n.type&256&&p(t,f);var e=new s.Part(o,t,f,u,k,n.type,l);return e.container.registerForDispose((function(){r.disposeAsync()})),n.earlyExecTasks&&g(f,n.earlyExecTasks),e};return Q.isPromiseAlike(f)?f.then(a):Q(a(f))},n})();t.ViewModelProvider=d}))