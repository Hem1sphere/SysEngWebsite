define("MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers",["require","exports","$","MsPortalImpl/UI/Commands/UI.Commands.Base","MsPortalImpl/Base/Base.EventTypes"],(function(n,t,i,r,u){"use strict";var f;return (function(n){function r(n,r){var f=i.Event(u.default.fxrightclick);f.clientX=r.clientX||n.clientX;f.clientY=r.clientY||n.clientY;i(n.target).trigger(f,t(r.widget,r.currentItem))}function t(n,t){var r;return r={selectableSet:n.selectableSet},n.triggerPlugins("getListDataForRightClick",t).forEach((function(n){i.extend(r,n)})),{entityType:1,listData:r,viewModel:t}}n.triggerRightClick=r;n.getCommandRightClickEventArgs=t})(f||(f={})),f}));
define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ExtensibleControl",["require","exports","o","MsPortalImpl.Controls/Controls/Base/Loadable"],(function(n,t,i,r){"use strict";var u;return (function(n){function c(n){var t=[],i={};return n.forEach((function(n){i[n.name]=n})),n.forEach((function(n){f(n,i,t)})),t.sort((function(n,t){return n.priority-t.priority})),t}function f(n,t,i,r){r===void 0&&(r=!1);!n.load&&(r||n.enabled)&&(n.load=!0,i.push(n),n.dependencies&&n.dependencies.length&&n.dependencies.forEach((function(n){var r=t[n];f(r,t,i,!0)})))}var t=MsPortalFx,u=t.Base,o=t.Errors,s=u.Promises.makeCancelable,h=u.Promises.CancelationToken,l=(function(n){function r(t,i,r){var u=n.call(this,t,i,r)||this;return u._pluginsDeferred=Q.defer(),u}return __extends(r,n),r.prototype.dispose=function(){var t=this;this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this._plugins&&(this._plugins.reverse().forEach((function(n){n.dispose();var i=n.cssClass;i&&t.element.removeClass(n.cssClass);t[n.name]=null})),this._plugins=null),n.prototype.dispose.call(this))},r.prototype.loadPlugins=function(n){var i=this,r=n.map((function(n,t){return{name:n.name,dependencies:n.dependencies,moduleId:n.moduleId,priority:t,enabled:n.isEnabled(i.options),load:!1}})),u=c(r);return this.waitFor(Q.all(u.map((function(n){return t.require(n.moduleId).then((function(n){return new n.Plugin(i)}))})))).then((function(n){i._plugins=n;i._plugins.forEach((function(n){var t=n.cssClass;t&&i.element.addClass(t);i[n.name]=n}));i._pluginsDeferred.resolve(n)}),(function(n){return i._pluginsDeferred.reject(n),Q.reject(n)}))},i.defineProperty(r.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),r.prototype._bindDescendants=function(t){t===void 0&&(t={});this._plugins&&this._plugins.forEach((function(n){t[n.name]=n}));n.prototype._bindDescendants.call(this,t)},r.prototype.triggerPlugins=function(n){for(var i,r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return i=[],this._plugins&&this._plugins.forEach((function(t){var u=t[n];u&&i.push(u.apply(t,r))})),i},r.prototype.waitForPlugins=function(){return this._pluginsDeferred.promise},r})(r.Widget),e;n.Widget=l;e=(function(){function n(n){this.name=n.name;this.cssClass=n.cssClass;this.widget=n.widget;var t=this.ltm=this.widget.ltm.createChildLifetime();this.vmBasicOption={ltm:t};this._waitToken=new h}return n.prototype.waitFor=function(n){return s(n,this._waitToken)},n.prototype.dispose=function(){this.ltm.dispose();this._waitToken.cancel(new o.DisposedCanceledError)},n})();n.PluginBase=e})(u||(u={})),u}));
define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base",["require","exports","f","i","o","a","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ExtensibleControl","Viva.Controls/Util/Viva.TemplateEngine","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ActionHandler"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){function a(n,t){return p.compareIds(n,t)}var b=r.Data,p=i.ViewModels.Internal.Selection2,t=i.initObservable,w=jQuery,c,v,l,y;n.compareIds=a;c=(function(){function n(n){this._widget=n}return n.prototype.beginLoad=function(){var t=this,n=this._widget.dataNavigator;return n.items.mapInto(this._widget.ltm,(function(r,u){return t._widget.createItem(r,{dataItem:u,itemIndex:i.findIndex(n.items(),(function(n){return n===u}))+1})}),this._widget._items),this._widget.waitFor(n.loadAll())},n})();v=(function(){function n(n){this.navigatorItem=e.observable(n.dataItem);this.id=this.delayedProperty(undefined,(function(n){return n.id}));this.data=this.delayedProperty(undefined,(function(n){return n.data}));this.isDisabled=t(n.isDisabled,!1);this.isFocused=t(n.isFocused,!1);this.tabbable=t(n.tabbable,!1)}return n.prototype.delayedProperty=function(n,t){var u=this,i=n,r=e.pureComputed((function(){var i,r=u.navigatorItem(),n;return r&&(n=t(r),i=e.isObservable(n)?n:e.observable(n)),i}));return e.pureComputed({read:function(){var n=r();return n?n():i},write:function(n){var t=r();t?t(n):i=n}})},n})();n.Item=v;l=(function(n){function t(t,i,r){var u=n.call(this,t,i,r)||this;return u.waitForPlugins().then((function(){u._actionHandler={focusFirstItem:function(){u.triggerPlugins("focusFirstItem")},activateFirstItem:function(){u.triggerPlugins("activateFirstItem")},pseudoFocusFirstItem:function(){u.triggerPlugins("pseudoFocusFirstItem")},pseudoBlurFirstItem:function(){u.triggerPlugins("pseudoBlurFirstItem")}};h.getOrCreateActionHandler(i)(u._actionHandler)})),u._eventHandlers=[],u.templateEngine=new s.HtmlTemplateEngine,u._items=e.observableArray(),u._loader=new c(u),u.loadState=e.observable(0),u._deferredLoad=Q.defer(),u._internalLoading=e.observable(!1),u._loading=e.pureComputed((function(){return u._internalLoading()||u.options.loading()})),u}return __extends(t,n),t.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(h.getOrCreateActionHandler(this.options)(null),this._deferredChange&&(this._deferredChange.reject(new i.Errors.DisposedCanceledError),this._deferredChange=null),this._selectableSet&&(this._selectableSet=null),n.prototype.dispose.call(this))},t.prototype.attachEvent=function(n,t,i,r){var u=function(){f.prototype.unshift.call(arguments,w(this));r.apply(this,arguments)};n.on(t,i,u);this._eventHandlers.push({element:n,events:t,selector:i,handler:u})},t.prototype._attachEvents=function(){this.triggerPlugins("attachEvents")},t.prototype._detachEvents=function(){if(this.triggerPlugins("detachEvents"),this._eventHandlers){var n=this._eventHandlers;this._eventHandlers=null;n.forEach((function(n){n.element.off(n.events,n.selector,n.handler)}))}},u.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.defineProperty(t.prototype,"dataNavigator",{get:function(){return this.options.dataNavigator},enumerable:!0,configurable:!0}),u.defineProperty(t.prototype,"selectableSet",{get:function(){return this._selectableSet},enumerable:!0,configurable:!0}),t.prototype.createItem=function(){throw new Error("override");},t.prototype.getItemById=function(n){var t=null;return n&&(t=this._items.peek().first((function(t){return a(t.id,n)}))),t},t.prototype.getItemByIndex=function(n){var t=null,i=this._items();return n>=0&&n<i.length&&(t=i[n]),t},t.prototype.getEnabledVisibleItems=function(){var t=this._items.peek(),n=[];return t.forEach((function(t){t.isDisabled.peek()||n.push(t)})),n},t.prototype.getFirstEnabledVisibleItem=function(){return this._items.peek().first((function(n){return!n.isDisabled.peek()}))},t.prototype.getFirstVisibleItem=function(){var n,t=this._items.peek();return t.length&&(n=t[0]),n},t.prototype.getFocusableByPage=function(n,t){var f=this.getFocusedItemIndex(),e=this._getNumberOfItemsPerPage(n),r,u=this.getFocusableList(),i;return t===33?(i=f-e,i=i>=0?i:0,r=u[i],this.getItemElement(n,r).scrollIntoView(!0)):t===34&&(i=f+e,i=i<u.length?i:u.length-1,r=u[i],this.getItemElement(n,r).scrollIntoView(!1)),r},t.prototype.getItemElement=function(n,t){return this.widget().find(n).toArray().first((function(n){return e.dataFor(n)===t}))},t.prototype.getFocusableList=function(){return this.getEnabledVisibleItems()},t.prototype.getFocusedItemIndex=function(){return this._items.peek().firstIndex((function(n){return n.isFocused.peek()}))},t.prototype.getPagedFocusableList=function(n){for(var i=[],t=this.getFocusableList(),r=this._getNumberOfItemsPerPage(n);t.length>0;)t.length<=r?i.push(t.splice(0)):i.push(t.splice(0,r));return i},t.prototype.getLastEnabledVisibleItem=function(){return this.getEnabledVisibleItems().last()},t.prototype.getOrCreateNextItem=function(n,t,i){var r;t===void 0&&(t=!1);i===void 0&&(i=!0);var f,u=this._items(),e=u.indexOf(n),o=+e;for(r=o+1;r<u.length;r++)if(!u[r].isDisabled.peek()){f=u[r];break}return f},t.prototype.getOrCreatePreviousItem=function(n,t,i){var r;t===void 0&&(t=!0);i===void 0&&(i=!0);var f,u=this._items(),e=u.indexOf(n),o=+e;for(r=o-1;r>=0;r--)if(!u[r].isDisabled.peek()){f=u[r];break}return f},t.prototype.resetForPendingLoad=function(){},t.prototype.resetContinuation=function(){this.resetForPendingLoad()},t.prototype.load=function(){var n=this;return this._loader||(this._loader=new c(this)),this._internalLoading(!0),this.waitFor(this._loader.beginLoad()).then((function(t){n.loadState(2);n.triggerPlugins("onLoadComplete");n._internalLoading(!1);n._deferredLoad.resolve(t)}),(function(t){n.loadState(3);n._internalLoading(!1);n._deferredLoad.reject(t)}))},t.prototype.waitForLoad=function(){return this._deferredLoad.promise},t.prototype.waitForPageLoad=function(){return(this._deferredPageLoad||(this._deferredPageLoad=Q.defer())).promise},t.prototype.waitForChange=function(){return this._deferredChange||(this._deferredChange=Q.defer()),this._deferredChange.promise},t.prototype.deferredPageLoadResolve=function(n){this._deferredPageLoad&&(this._deferredPageLoad.resolve(n),this._deferredPageLoad=null)},t.prototype.deferredPageLoadReject=function(n){this._deferredPageLoad&&(this._deferredPageLoad.reject(n),this._deferredPageLoad=null)},t.prototype._getNumberOfItemsPerPage=function(n){var i=this.element.find(n),r;return i.length>0&&(r=i.scrollParent(),r.length>0)?Math.floor(r.height()/i.height()):t._defaultKeyboardPageSize},t})(o.Widget);l._defaultKeyboardPageSize=10;n.Widget=l;y=(function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(o.PluginBase);n.Plugin=y})(c||(c={})),c}));
define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Focus",["require","exports","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base"],(function(n,t,i){"use strict";var r;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(i.Plugin);n.Plugin=t})(r||(r={})),r}));
define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Formatters",["require","exports","f","i","o","ko","MsPortalImpl/Base/Base.Sanitization","MsPortalImpl/Base/Base.KnockoutTemplateSanitizer","Viva.Controls/Util/Viva.DateUtil","MsPortalFx/Globalization"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(t){function a(n){return{html:n}}function v(n){var t=f.unwrap(n);return ct(t)}function b(n){var t=f.unwrap(n);return p(t)}function lt(n){var t=f.unwrap(n);return g(t)?"":t+""}function it(n){var t=f.unwrap(n),i,u,r;return t&&!y(t.text)&&y(t.uri)?(i=b(t.uri),u=v(t.text),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />{1}".format(i,u)):(i=b(t),r="<img class='azc-grid-formatters-icon' src='{0}' alt='' />".format(i)),r}function ft(n){return n&&!y(n.type)}function et(n,t,i){var o="<span class='fx-grid-formatters-svgicon' data-bind=\"image: { type: "+p(n.type.toString()),u="",f="",e="",r;return i&&t&&(e=", style: { height: '"+p(t)+"', width: '"+p(i)+"'}"),r=n.options,r&&r.palette&&(u=", palette: "+p(r.palette.toString())),n.data&&(f=" , data: '"+p(n.data)+"'"),o+u+f+" }"+e+'"><\/span>'}function rt(n,t,i){var r=f.unwrap(n),u;return r&&!y(r.svg)&&ft(r.svg)?(u="",y(r.text)||(u="<span class='fx-grid-formatters-svgtext'>"+v(r.text)+"<\/span>"),"<div class='fx-grid-formatters-svg'>"+et(r.svg,r.height||t,r.width||i)+u+"<\/div>"):ft(r)?et(r,t,i):""}function nt(n,t,i,r,u){if(r){var e=t.performValidation;e(!1);i.subscribe(n,(function(){e()||e(!0);t.ensureValidation()}));u&&f.isObservable(u)&&u.subscribe(n,(function(){t.validate(t.validate()+1)}))}}function ei(n,t){var i=c[n.type];return i?new i.factory(n,t):null}var d=i.ViewModels,ut=d.Forms.CheckBox.ViewModel,ot=d.Obsolete.Forms.DropDown.ViewModel,st=d.Obsolete.Forms.MultiSelectDropDown,ht=d.Forms.TextBox.ViewModel,w=r.TriggerableLifetimeManager,p=i.encodeAttribute,ct=i.encodeHtml,g=i.isNullOrUndefined,y=i.isUndefined,l=(function(){function t(n,t,i){this._vm=n;this._safe=t||i}return u.defineProperty(t.prototype,"viewModel",{get:function(){return this._vm},enumerable:!0,configurable:!0}),t.prototype.format=function(){return a("")},t.prototype.sanitizeHtml=function(t){return this._safe?t:o.sanitizeHtmlWithoutKOBindings(t,n).sanitizedMarkup},t.prototype.sanitizeHtmlTemplate=function(t){return this._safe?t:o.sanitizeHTML(t,n).sanitizedMarkup},t.prototype.sanitizeUri=function(n){return this._safe?n:(n=n||"",e.sanitizeUri(n))?n:""},t})(),tt;t.BaseFormatter=l;tt=(function(n){function t(t,i){return n.call(this,t,i,!1)||this}return __extends(t,n),t.prototype.format=function(n){var t=lt(n);return a(this.sanitizeHtml(t))},t})(l);t.HtmlFormatter=tt;var at=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){return a(v(n))},t})(l),vt=(function(n){function t(t,i){var r=n.call(this,t,i,!0)||this;return r._dateFormat=t.dateFormat,r}return __extends(t,n),t.prototype.convertToDate=function(n){var t,i;switch(typeof n){case"number":t=new Date(n);break;case"string":i=s.parse(n);isNaN(i)||(t=new Date(i));break;case"object":n!==null&&n.constructor===Date&&(t=n)}return t},t.prototype.format=function(n){var i=f.unwrap(n),t=this.convertToDate(i),r=t?t.toString(this._dateFormat):"";return a(v(r))},t})(l),yt=(function(n){function t(t,i){var r=n.call(this,t,i,!0)||this;return r._numberFormat=t.numberFormat,r}return __extends(t,n),t.prototype.format=function(n){var t=h.NumberFormat.create(this._numberFormat).format(n);return a(v(t))},t})(l),pt=(function(n){function t(t,i){return n.call(this,t,i,!1)||this}return __extends(t,n),t.prototype.format=function(n){var t=f.unwrap(n),u,i,r,e;if(!t||y(t.text)||y(t.uri))r=this.sanitizeUri(t),e=b(r),i=v(r),u="<a class='azc-text-primary' href='{0}'>{1}<\/a>".format(e,i);else{var r=this.sanitizeUri(f.unwrap(t.uri)),o=b(r),s=t.target?" target='"+b(t.target)+"'":"";i=v(t.text);u="<a class='azc-text-primary' href='{0}'{1}>{2}<\/a>".format(o,s,i)}return a(u)},t})(l);var wt=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){return a(it(n))},t})(l),bt=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){var i="",r=f.unwrap(n),u=this.viewModel,t=u.iconLookup[r],e;return g(t)?(t=u.iconLookup["##DEFAULT##"],t&&(t.text&&(e=v(r),t={uri:t.uri,text:t.text.replace(/##DEFAULT##/g,e)}),i=it(t))):i=it(t),a(i)},t})(l),kt=(function(n){function t(t,i){return n.call(this,t,i,!1)||this}return __extends(t,n),t.prototype.format=function(n){var r=f.unwrap(n),u=this.viewModel,t=u.textLookup[r],i;return g(t)&&(t=u.textLookup["##DEFAULT##"],t||(t=r)),i=v(t),i=this.sanitizeHtml(t),a(i)},t})(l);var dt=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){var t=this.viewModel;return a(rt(n,t.height,t.width))},t})(l),gt=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){var r="",u=f.unwrap(n),i=this.viewModel,t=i.svgIconLookup[u],e;return g(t)?(t=i.svgIconLookup["##DEFAULT##"],t&&t.text&&(e=v(u),t={svg:t.svg,text:t.text.replace(/##DEFAULT##/g,e)}),r=rt(t,i.height,i.width)):r=rt(t,i.height,i.width),a(r)},t})(l),ni=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(){return a(this.viewModel.template)},t})(l),k=(function(n){function t(t,i){return n.call(this,t,i,!0)||this}return __extends(t,n),t.prototype.format=function(n){var i=this,t=[],r=f.ignoreDependencies((function(){return i._data(n,t)})),u=c[this.viewModel.type]||{},e="<div data-bind='formElement: $data' data-grid-formelement='"+u.name+"'><\/div>";return{html:e,data:r,disposables:t.length?t:null}},t})(l);var ti=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),s=f.observable(r.peek()),u=new w,o;t.push(u);var h={getOriginalObservable:function(){return s},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,c={label:f.observable(i.label||""),validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent),inlineLabel:!0},e=new ut(u,c);return e._setEditScopeAccessors(h),o=null,nt(u,e,r,o,i.validate),e},t})(k),ii=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),s=f.observable(r.peek()),u=new w,o;t.push(u);var h={getOriginalObservable:function(){return s},getEditableObservable:function(){return r},createdByBaseFormClass:!0},i=this.viewModel,e=new ht(u,{label:f.observable(i.label||""),valueUpdateTrigger:4,validations:f.observableArray(i.validations),emptyValueText:f.observable(i.emptyValueText),infoBalloonContent:f.observable(i.infoBalloonContent)});return e._setEditScopeAccessors(h),o=null,nt(u,e,r,o,i.validate),e},t})(k),ri=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._data=function(n,t){var u=f.utils.wrap(n),i=this.viewModel,h=f.observable(u.peek()),e=new w,o,r,s;return t.push(e),o={getOriginalObservable:function(){return h},getEditableObservable:function(){return u},createdByBaseFormClass:!0},r=new st.ViewModel(e,{label:f.observable(i.label||""),groups:i.groups,multiselect:i.multiselect,validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent)}),r.maxSelectAllowed=i.maxSelectAllowed,r.multiItemsDisplayFormat=i.multiItemsDisplayFormat,r.multiItemsMaxDisplayFormat=i.multiItemsMaxDisplayFormat,r.valueSeparator=i.valueSeparator,r.displaySeparator=i.displaySeparator,r._setEditScopeAccessors(o),s=null,nt(e,r,u,s,i.validate),r},t})(k),ui=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._data=function(n,t){var r=new w;t.push(r);var u=new ut(r),i=!1,f=!0;return null.isSelected.subscribe(r,(function(n){try{i=!0;u.value(n)}finally{i=!1}})),u.value.subscribe(r,(function(n){if(!f&&!i)try{i=!0;u.value(!n)}finally{i=!1}f=!1})),u},t})(k),fi=(function(n){function t(t,i){return n.call(this,t,i)||this}return __extends(t,n),t.prototype._data=function(n,t){var r=f.utils.wrap(n),i=this.viewModel,o,u,s,e,h;return!f.isObservable(i.options),r.peek()===undefined&&r(i.options()[0].value),o=f.observable(r.peek()),u=new w,t.push(u),s={getOriginalObservable:function(){return o},getEditableObservable:function(){return r},createdByBaseFormClass:!0},e=new ot(u,{label:f.observable(i.label||""),options:i.options,validations:f.observableArray(i.validations),infoBalloonContent:f.observable(i.infoBalloonContent)}),e._setEditScopeAccessors(s),h=null,nt(u,e,r,h,i.validate),e},t})(k),c=[];c[2]={factory:at,name:"Text"};c[1e3]={factory:ni,name:"HtmlTemplate"};c[1001]={factory:ti,name:"CheckBox"};c[1002]={factory:ii,name:"TextBox"};c[1003]={factory:ri,name:"MultiselectDropDown"};c[1004]={factory:ui,name:"CheckBoxRowSelection"};c[1005]={factory:fi,name:"DropDown"};c[113]={factory:vt,name:"Date"};c[114]={factory:yt,name:"Number"};c[108]={factory:wt,name:"Icon"};c[109]={factory:bt,name:"IconLookup"};c[111]={factory:dt,name:"SvgIcon"};c[112]={factory:gt,name:"SvgIconLookup"};c[1]={factory:tt,name:"Html"};c[110]={factory:kt,name:"TextLookup"};c[107]={factory:pt,name:"Uri"};t.createFormatter=ei})(c||(c={})),c}));
define("MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Selection",["require","exports","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base"],(function(n,t,i){"use strict";var r;return (function(n){n.Name="focus";n.HasFocusClass="fxs-has-focus";var t=(function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t.prototype.dispose=function(){n.prototype.dispose.call(this)},t})(i.Plugin);n.Plugin=t})(r||(r={})),r}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxc-grid-contextMenu table tbody tr[aria-disabled=true] td.fxc-grid-contextMenuShortcut-cell a{display:none}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell{padding:1px}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a{display:flex;height:100%}.fxc-grid2.fxc-grid-contextMenu table tbody tr:not([aria-disabled=true]) td.fxc-grid-contextMenuShortcut-cell a svg{height:16px;width:16px;margin:auto}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.ctl",["require","exports","f","ko","MsPortalImpl.Controls/Controls/Controls.ContextMenuHelpers","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","Viva.Controls/Util/Viva.Util","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl/Base/Base.EventTypes","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){function l(n,t,i,f){var o=d(t.currentTarget),s,e;if(o&&r.utils.peekObservable(o.data)){if(s={clientX:i,clientY:f,currentItem:o,widget:n},t.preventDefault(),t.stopPropagation(),e=n.selection,e.getSelectedRows().length>1||e.options.selectedIds().length>1)return;o.isSelected()&&e.options.selectedIds().length!==0||(e.unselectAllRows(),e.selectRows(o));u.triggerRightClick(t,s)}}var y="contextMenu",v="fxc-grid-contextMenu",t=v+"Shortcut",o=".fxGridContextMenu",c="tbody tr:not([aria-disabled=true])",p=t+"-cell",a="."+p+" a",w="<col class='"+t+"-col' data-bind='style:{ width: $data.contextMenu.width }, css:{ \"azc-collapsed-hidden\": $vm.contextMenu.hiddenInCollapsed }' />",b="<th aria-hidden='true' class='"+t+"-header' data-bind='css: { \"azc-collapsed-hidden\": $vm.contextMenu.hiddenInCollapsed }'><\/th>",k='<td role="gridcell" class="'+t+'-cell azc-br-muted" data-bind=\'css: { "azc-collapsed-hidden": $vm.contextMenu.hiddenInCollapsed }\'><a class="msportalfx-inherit-color fxs-portal-svg" href="" role="button" data-bind="image: MsPortalFx.Base.Images.Ellipsis(), attr: { tabindex: $tabIndex }, visible: $ctl.contextMenu.shortcutsVisible() " title="'+i.encodeAttribute(s.Grid2.contextMenu)+'"><\/a><\/td>',d=r.dataFor,g=(function(n){function t(t){var i=n.call(this,{name:y,cssClass:v,widget:t})||this;return i.options=t.options.contextMenu,i.width=r.observable(),i.shortcutsVisible=r.pureComputed((function(){return t.selection.getSelectedRows().length<2})),i.headerResized(t.element.find(".fxc-grid-tableHeader").width()),i}return __extends(t,n),t.prototype.headerResized=function(n){var t=this.widget.options.resizing;this.width(t&&t.resizeToPercent&&t.resizeToPercent()?3200/n+"%":"32px")},t.prototype.setTemplates=function(n){var t="bodyRowsContent",i="colgroup",r=n.getTemplate(t),u=n.getHtmlTemplate("header"),f=n.getHtmlTemplate(i);n.setTemplate(t,r+k);u.append("tr",b);f.append(i,w)},t.prototype.attachEvents=function(){var n=this.widget,t=n.element;n.attachEvent(t,h.default.click+o,c+" "+a,(function(t,i){if(!n._loading()){var r=t.offset();l(n,i,r.left,r.top)}i.preventDefault();i.stopPropagation()}));n.attachEvent(t,h.default.keyup+o,c,(function(t,i){var r,u;n._loading()||(r=e.getModifierKeys(i),(i.which===121&&r===4||i.which===93&&r===0)&&(u=t.find(a).offset(),l(n,i,u.left,u.top)))}));n.attachEvent(t,h.default.keydown+o,c+" "+a,(function(t,i){if(!n._loading()&&(i.which===32||i.which===13)){var r=t.offset();l(n,i,r.left,r.top);i.stopPropagation();i.preventDefault()}}));n.attachEvent(t,h.default.contextmenu+o,c,(function(t,i){n._loading()||(i.which!==3||e.getModifierKeys(i)!==8)&&l(n,i)}))},t.prototype.getAdditionalColumns=function(){return this.options.hiddenInCollapsed&&this.widget.element.parents(".fxs-blade-has-activation").length?0:1},t})(f.Plugin);n.Plugin=g})(c||(c={})),c}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Formatters.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxc-base [data-grid-formelement=DropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=MultiselectDropDown] .fxc-control,.fxc-grid2.fxc-base [data-grid-formelement=TextBox] .fxc-control{width:100%}.fxc-grid2.fxc-base .fx-grid-formatters-svg{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svg.fx-grid-svgicon-center{justify-content:center;width:calc(100% + 10px);margin-left:-10px}.fxc-grid2.fxc-base .fx-grid-formatters-svg .fx-grid-formatters-svgtext{text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-svgicon{margin-right:6px;flex-shrink:0;width:12px;height:13px;position:relative;display:inline-block}.fxc-grid2.fxc-base .fx-grid-formatters-icon{display:flex;align-items:center;text-overflow:inherit;overflow:inherit}.fxc-grid2.fxc-base .fx-grid-formatters-icon .fx-grid-formatters-icon-text{flex:1;min-width:0;text-overflow:inherit;overflow:inherit}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Base.ctl",["require","exports","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Formatters.css"],(function(n,t,i,r){"use strict";var u;return (function(n){var t=(function(n){function t(t){var r=n.call(this,t)||this;return r.groupHeader=i.observable(!1),r}return __extends(t,n),t})(r.Item);n.Row=t})(u||(u={})),u}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Plugins.ctl",["require","exports"],(function(){"use strict";var n;return (function(n){function r(n){return n[0].toUpperCase()+n.slice(1)}function t(n,t){return{name:n,dependencies:t||[],isEnabled:function(t){var i=t&&t[n];return i&&i.enabled},moduleId:"MsPortalImpl.Controls/Controls/Lists/Grid2/GridB."+r(n)+".ctl"}}var i=["focus"];n.Registrations=[t("focus"),t("sorting"),t("scrolling"),t("resizing"),t("hierarchical"),t("selection",i),t("paging"),t("demandLoading"),t("reordering",i),t("hover",i),t("contextMenu",["selection"]),t("grouping"),t("search"),]})(n||(n={})),n}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,'.fxc-grid2 table tbody tr td,.fxc-grid2 table thead tr th a span{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.fxc-grid2{font-size:13px}.fxc-grid2.fxc-grid-headerHidden table thead{display:none}.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a .fxc-grid-headerlabel{display:block}.fxc-grid2 .fxc-grid-loading .fxc-grid-tableContent{opacity:.25}.fxc-grid2 table{width:100%;border:0;background-color:transparent;table-layout:fixed;border-spacing:0;border-collapse:collapse}.fxc-grid2 table tbody tr td,.fxc-grid2 table tbody:last-child tr:last-child td{border-bottom-width:1px;border-bottom-style:solid}.fxc-grid2 table td:first-of-type,.fxc-grid2 table th:first-child a{padding-left:7px}.fxc-grid2 table th:first-child{padding-left:0}.fxc-grid2 table thead tr th{text-transform:uppercase;text-align:left;font-size:10px;padding:0;height:40px;position:relative;font-family:az_ea_font,"Segoe UI",wf_segoe-ui_bold,"Segoe UI Bold","Segoe WP Bold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:700}.fxc-grid2 table thead tr th a{line-height:38px;display:block;text-decoration:none;color:inherit;position:relative}.fxc-grid2 table thead tr th .fxc-grid-header-wrapper>a{padding:1px 0 1px 10px}.fxc-grid2 table tbody tr td{padding:1px 0 1px 10px;height:29px;border-top-width:1px;border-top-style:solid}.fxc-grid2 table tbody tr td .fxc-button,.fxc-grid2 table tbody tr td .fxc-dropdown,.fxc-grid2 table tbody tr td .fxc-editableCombo,.fxc-grid2 table tbody tr td .fxc-fileUpload,.fxc-grid2 table tbody tr td .fxc-optionPicker,.fxc-grid2 table tbody tr td button,.fxc-grid2 table tbody tr td input,.fxc-grid2 table tbody tr td select,.fxc-grid2 table tbody tr td textarea{font-size:13px!important}.fxc-grid2 a img{border:0}.fxc-grid2 a.fxc-grid-headerCell{height:40px;display:inline-block;width:100%}')}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl",["require","exports","f","i","o","ko","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Base.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Plugins.ctl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.ExtensibleControl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Formatters","MsPortalImpl/Base/Base.SelectableSet2","MsPortalImpl/Base/Base.BrowserDetection","MsPortalImpl/Interactions/Interactions.KeyboardNavigation","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.css"],(function(n,t,i,r,u,f,e,o,s,h,c,l,a,v){"use strict";var y;return (function(n){var si=r.Data,ft=i.Base,g=r.ViewModels.Controls.Lists.Grid2,w=i.initObservable,nt="fxc-grid2",tt="azc-control",it="fxc-grid-headerHidden",et=ft.Images.Loading.EllipsisSquare(),ot="<!-- ko template: 'table' --><!-- /ko -->",st="<div class='fxc-grid-container azc-br-muted' data-bind=\"css: { 'fxc-grid-loading' : $ctl._loading } \"><div class='fxc-grid-tableContainer azc-br-muted'><div class='fxc-grid-tableScrollContainer azc-br-muted' data-bind='if: $ctl._columns().length, attr: { tabindex: $ctl._isFireFox ? -1 : null }'><table class='fxc-grid-tableHeader' role='presentation'><!-- ko template: 'header' --><!-- /ko --><\/table><div class='fxc-grid-tableContent'><table class='fxc-grid-full' role='presentation'><!-- ko template: 'colgroup' --><!-- /ko --><!-- ko template: 'body' --><!-- /ko --><\/table><\/div><fxs-progress class='fxc-grid-loadingUx fxs-progress-nozindex' data-bind='visible: $ctl._loading'><\/fxs-progress><\/div><\/div><\/div>",ht="<!-- ko template: 'colgroup' --><!-- /ko --><thead><tr role='row'><!-- ko template: { name: 'headerCell', foreach: $ctl._columns } --><!-- /ko --><\/tr><\/thead>",ct="<colgroup><!-- ko template: { name: 'headerColumn', foreach: $ctl._columns } --><!-- /ko --><\/colgroup>",lt='<col data-bind=\'keyedCss: { gridBCtlHeaderColumn: "col" + $index() }, style: { width: width }, css: { "azc-collapsed-hidden": hiddenInCollapsed }\' />',at="<th class='fxc-grid-column-header' role='presentation' data-bind='css: { \"azc-collapsed-hidden\": hiddenInCollapsed }' ><div class='fxc-grid-header-wrapper'><!-- ko template: 'headerCellContent' --><!-- /ko --><\/div><\/th>",vt="<a role='columnheader' data-bind='attr: { id: columnId }'><span class='fxc-grid-headerlabel fxc-grid-headerCell' data-bind='text: name' tabindex='-1'><\/span><\/a>",yt="<!-- ko template: $ctl._bodyTemplate --><!-- /ko -->",pt="<tbody class='fxc-grid-groupdata' role='rowgroup' data-bind='template: { name: \"bodyRowsCore\", foreach: $ctl._rows }'><\/tbody>",wt="<tbody role='rowgroup' class='fxc-grid-empty fx-bg-muted' data-bind='if: $vm.loadingMessage'><tr role='row' data-bind='attr{ id: elementId }'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loadingMessage'><\/td><\/tr><\/tbody>",bt="<tbody role='rowgroup' class='fxc-grid-empty' data-bind='if: data.noRowsMessage'><tr role='row'><td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }, html: $ctl._loading() ? $ctl._loadingMessage : $ctl._noRowsMessage'><\/td><\/tr><\/tbody>",kt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><div class='fx-grid-formatters-svg' style='justify-content: center; opacity: 0.5'><span class='fx-grid-formatters-svgicon' data-bind='image: loadingImage' style='height: 20px;width: 30px'><\/span><\/div><\/td>",dt="<td role='gridcell' class='azc-br-muted' data-bind='attr: { colspan: $ctl._getTotalColumns() }'><\/td>",gt="<tr role='row' data-bind='template: template, attr: attr, css: css'><\/tr>",ni="<!-- ko template: { name: 'bodyCell', foreach: $data.cells } --><!-- /ko -->",ti="<td role='gridcell' data-bind='css: column.css, attr: attr, template: \"bodyCellContent\"'><\/td>",ii="<span class='fxc-grid-cellContent' data-bind='css: { \"fxs-ellipsis\": column.enableEllipsis }, gridFormatter: { row: $parent, column: $data.column }'><\/span>",ri=f.observableArray,t=f.pureComputed,y=f.unwrap,p=f.utils,ui=i.disposeDisposable,fi=0,ei=0,b=new g.Formatters.Text,oi=c.createFormatter(b,!1),k,d,rt,ut;f.bindingHandlers.gridFormatter={init:function(){return{controlsDescendantBindings:!0}},update:function(n,t,r,u,e){var c=y(t()),w=y(c.row),l=y(c.column),a=l.format||b,v=a.type===2,k=e.$ctl,s=y(w.data),o=p.unwrapObservablePath(s,l.id),h=!v&&k._getFormatter(a).format(o,s);f.ignoreDependencies((function(){if(p.cleanDescendantNodes(n),v)i.isNullOrUndefined(o)||o===""||(n.textContent=o);else{var r=h.html,u=h.data||{item:s,value:o},t=h.disposables;p.setHtml(n,r);f.applyBindingsToDescendants(e.createChildContext(u),n);t&&t.length&&p.domNodeDisposal.addDisposeCallback(n.firstElementChild||n,(function(){ui(t)}))}}))}};k=(function(n){function i(i,r){var u=n.call(this,r)||this;return u.loadingImage=et,u._widget=i,u.ariaLabel=f.observable(),u.ariaDescribedBy=f.observable(),u.elementId=f.observable(),u.attr={role:"row","aria-disabled":u.isDisabled,"aria-label":u.ariaLabel,id:u.elementId,"aria-describedBy":u.ariaDescribedBy,"aria-rowindex":r.itemIndex},u.css={"fxc-grid-row":!0,"azc-row-disabled":u.isDisabled,"fxc-grid-row-loading":u.isLoading},u.isLoading=t((function(){return!u.data()})),u.context={$disabled:u.isDisabled},u.template=t((function(){var t={name:"bodyRowsContent",context:u.context},n;return u.isLoading()?t.name="bodyRowsLoadingContent":(n=u._widget.triggerPlugins("computeRowTemplate",u),n&&n[0]&&n[0].length&&(t.name=n[0])),t})),u}return __extends(i,n),i})(e.Row);n.Row=k;n.Selector=".fxc-grid2";n.EnabledRowSelector=".fxc-grid-row:not([aria-disabled=true])";d=(function(n){function i(i,r,u){var f=n.call(this,i,r,u)||this,s,e;return f.uniqueId="fxgrid2"+ei++,f._isFireFox=a.isFirefox,f._columns=ri(),f._bodyTemplate=t((function(){var n=f.loadState();switch(n){case 0:return"bodyLoading";case 1:return"bodyLoading";case 3:return"bodyNoRows";case 2:return f.dataNavigator.totalItems()?"bodyCore":"bodyNoRows";default:return"bodyCore"}})),s=f._htmlFormatter=new c.HtmlFormatter(new g.Formatters.Html,f._isTrusted),f._loadingMessage=t((function(){return s.format(f.viewModel.loadingMessage(),null).html})),f._noRowsMessage=t((function(){return s.format(f.viewModel.noRowsMessage(),null).html})),f._deferredCreate=Q.defer(),f.waitFor(f.loadPlugins(o.Registrations)).then((function(){f.triggerPlugins("beforeCreate");f._create()})).then((function(n){return f._deferredCreate.resolve(n),f.triggerPlugins("afterCreate"),f.load()}),(function(n){f._deferredCreate.reject(n)})).then((function(){new v.KeyboardNavigation(f.ltm,{element:f.element.find("thead tr"),tabTriggers:8,itemSelector:".fxc-grid-headerCell, .azc-checkBox",parentTabIndexContextObservable:f.$tabIndex})})),e=r.selection,e&&e.enabled!==!1&&(f._selectableSet=l.getSelectableSet2(e._msPortalFxSelectableSet)),f}return __extends(i,n),u.defineProperty(i.prototype,"_rows",{get:function(){return this._items},enumerable:!0,configurable:!0}),i.prototype._create=function(){var i=this,n=this.element,t=this.viewModel;t.columns.mapInto(this.ltm,(function(n,t){return i.createColumn(t)}),this._columns);this._setTemplates();n.addClass(nt).addClass(tt).attr("role","grid").html(ot);this.options.ariaLabel.subscribeAndRun(this.ltm,(function(t){n.attr("aria-label",t)}));this.options.loading.subscribeAndRun(this.ltm,(function(t){n.attr("aria-busy",t?"true":null)}));t.columns.subscribeAndRun(this.ltm,(function(t){n.attr("aria-colcount",t.length)}));this.dataNavigator.totalItems.subscribeAndRun(this.ltm,(function(t){n.attr("aria-rowcount",t&&t>=0?t:-1)}));t.showHeader||n.addClass(it);this._bindDescendants();this._attachEvents()},i.prototype.waitForCreate=function(){return this._deferredCreate.promise},u.defineProperty(i.prototype,"_isTrusted",{get:function(){return this._createOptions.isTrusted},enumerable:!0,configurable:!0}),i.prototype.dispose=function(){this._checkExistsOrRegisterDestroyId(n.prototype.dispose)||(this.triggerPlugins("beforeDestroy"),this._detachEvents(),this._cleanElement(nt,tt,it,"fxc-grid-horizontalScroll","fxc-grid-verticalScroll"),n.prototype.dispose.call(this),this.triggerPlugins("afterDestroy"))},u.defineProperty(i.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.defineProperty(i.prototype,"viewModel",{get:function(){return this._options},enumerable:!0,configurable:!0}),i.prototype._attachEvents=function(){this.attachEvent(this.element,"mouseenter.fxGrid","> .fxc-grid-container .fxc-grid-full > tbody > tr > td",(function(n){var t=n.find(">div,>span");n[0].offsetWidth<n[0].scrollWidth&&(t.attr("title")||t.attr("title",n.text()))}));n.prototype._attachEvents.call(this)},i.prototype._detachEvents=function(){n.prototype._detachEvents.call(this)},i.prototype.createItem=function(n,t){return this.createRow(n,t)},i.prototype.createRow=function(n,i){var u=this,r=new k(this,i,this._columns);return this.triggerPlugins("initializeRow",r),r.cells=t((function(){return u._columns().map((function(n,t){var f={attr:{role:"gridcell","aria-describedby":n.columnId,"aria-colindex":t+1,"aria-rowindex":i.itemIndex},column:n};return u.triggerPlugins("initializeCells",r,f),f}))})),f.computed(n,[r.groupHeader,r.data],(function(n,t){u.options.getRowAriaLabel&&!n&&t&&Q(u.options.getRowAriaLabel(t)).then((function(n){r.ariaLabel(n)}));t&&u.triggerPlugins("addRowAriaAttributes",r)})),r},i.prototype.createColumn=function(n){var t={id:n.id,name:w(n.name,""),width:w(n.width,null),format:n.format,enableEllipsis:w(n.enableEllipsis,!0),hiddenInCollapsed:n.hiddenInCollapsed,css:{"fxc-grid-cell":!0,"azc-br-muted":!0,"azc-collapsed-hidden":!!n.hiddenInCollapsed},columnId:"fxgrid2col"+fi++};return this.triggerPlugins("initializeColumn",t,n),t},i.prototype._getTotalColumns=function(){var n=this._columns(),t=this.element.parents(".fxs-blade-has-activation").length?n.filter((function(n){return!n.hiddenInCollapsed})).length:n.length,i=this.triggerPlugins("getAdditionalColumns");return i.forEach((function(n){t+=n})),t},i.prototype._setTemplates=function(){var n=this.templateEngine;n.setTemplate({table:st,header:ht,headerColumn:lt,colgroup:ct,headerCell:at,headerCellContent:vt,body:yt,bodyCore:pt,bodyLoading:wt,bodyNoRows:bt,bodyRowsCore:gt,bodyRowsContent:ni,bodyRowsLoadingContent:kt,bodyRowsErrorContent:dt,bodyCell:ti,bodyCellContent:ii});this.triggerPlugins("setTemplates",n)},i.prototype._resetExtensions=function(){var n=this.triggerPlugins("resetExtension");return Q.all(n)},i.prototype._getFormatter=function(n){var t=this._isTrusted;return n&&n!==b?c.createFormatter(n,t):oi},i.prototype.getFirstVisibleRow=function(){return n.prototype.getFirstVisibleItem.call(this)},i.prototype.getOrCreatePreviousRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreatePreviousItem.call(this,t,i,r)},i.prototype.getOrCreateNextRow=function(t,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),n.prototype.getOrCreateNextItem.call(this,t,i,r)},i.prototype.getRowById=function(t){return n.prototype.getItemById.call(this,t)},i.prototype.getRowByIndex=function(t){return n.prototype.getItemByIndex.call(this,t)},i})(h.Widget);n.Widget=d;rt=(function(n){function t(t){return n.call(this,t)||this}return __extends(t,n),t})(s.PluginBase);n.Plugin=rt;ut=(function(n){function t(t,i){return n.call(this,t,i,{isTrusted:!0})||this}return __extends(t,n),t})(d);n.TrustedWidget=ut})(y||(y={})),y}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxc-grid-resizing .fxc-grid-tableContainer{position:relative}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{position:absolute;right:-5px;top:0;height:100%;width:10px;cursor:ew-resize;z-index:1;display:-webkit-flex;display:flex;-webkit-justify-content:center;justify-content:center}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line{width:1px;height:100%;opacity:0}.fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-ghostLine{position:absolute;width:1px;top:0;z-index:1}.fxc-grid2.fxc-grid-resizing .fxc-grid-show-handles .fxc-grid-resizableColumn-handle .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing thead:hover .fxc-grid-resizableColumn-handle-line,.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress .fxc-grid-resizableColumn-handle-line{opacity:1}.fxc-grid2.fxc-grid-resizing.fxc-grid-resizing-inprogress *{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.fxs-blade-has-activation .fxc-grid2.fxc-grid-resizing .fxc-grid-resizableColumn-handle{display:none}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.ctl",["require","exports","f","i","o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.css"],(function(n,t,i,r,u,f,e){"use strict";var o;return (function(n){function s(n,i,r){var f,o,e,u;if(r===n.length)f=null;else if(e=n[r],e.hasOwnProperty("disableResizable")&&!e.disableResizable()){for(u=0;u<i.length;u++)if(t(i.eq(u)[0]).id===e.id){o=i.eq(u);break}f=o}else r++,f=s(n,i,r);return f}function it(n,t){for(var r=-1,i=0;i<n.length;i++)if(n[i].id===t.id){r=i;break}return r}function a(n,t){if(n>0)return(t/n*100).toString()+"%"}function rt(n,t){return t-n.offset().left}function v(n,t,i){return Math.min(Math.max(n,t),i)}var h=i.initObservable,y;n.minColumnWidth=30;var p="resizing",w="fxc-grid-resizing",t=f.dataFor,c=f.isObservable,u=jQuery,b=window,o="fxc-grid-resizing-inprogress",k=".fxc-grid-resizableColumn-handle",d=".fxc-grid-resizableColumn-handle-line",g=".fxc-grid-tableHeader",nt=".fxc-grid-tableContent",l=".fxc-grid-tableContainer",tt="<!-- ko if: hasHandle && hasHandle() --><div class='fxc-grid-resizableColumn-handle'><div class='fxc-grid-resizableColumn-handle-line azc-bg-muted'><\/div><\/div><!-- /ko -->";y=(function(i){function e(n){var r=i.call(this,{name:p,cssClass:w,widget:n})||this,u=r._options=n.options.resizing,t=n.options.scrolling;return t&&t.enabled&&t.horizontal&&u.resizeToPercent(!1),r}return __extends(e,i),e.prototype.dispose=function(){var n=this._disposeAction;n&&(n(),this._disposeAction=null);this.widget.element.removeClass(o);i.prototype.dispose.call(this)},e.isEnabled=function(n){var t=n.options.resizing;return t&&t.enabled},e.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.append("div",tt)},e.prototype._setColumnWidthsToMatchElementWidth=function(n,t){var f=this,i=this.widget.contextMenu?t-32:t,r=0,u=[];n.forEach((function(n){var t,e=n.width();e&&(e.endsWith("%")?t=parseFloat(e.slice(0,e.length-1))*.01*i:e.endsWith("px")&&(t=parseFloat(e.slice(0,e.length-2))));t=isNaN(t)?f._options.minWidth:t;u.push(t);r+=t}));this._options.resizeToPercent()?u.forEach((function(u,f){n[f].width(u/r*i/t*100+"%")})):u.forEach((function(t,u){var f=i/r;n[u].width(Math.round(t*f)+"px")}))},e.prototype.headerResized=function(n){this._setColumnWidthsToMatchElementWidth(this.widget._columns(),n)},e.prototype.afterCreate=function(){var n=this;this.widget._columns.subscribeAndRun(this.ltm,(function(t){t.length&&(n._lastCol&&n._lastCol.hasHandle(!0),n._lastCol=t[t.length-1],n._lastCol.hasHandle(!1));n._setColumnWidthsToMatchElementWidth(t,n.widget.element.find(".fxc-grid-tableHeader").width())}))},e.prototype.attachEvents=function(){var i=this,r=this.widget,e=r.element;r.attachEvent(e,"mousedown.fxcontrolGridResizableColumn",k,(function(n,f){var l,o,h,p,a,w,v,y;(i._mouseDownPos=f.pageX,a=u(f.currentTarget),w=e.find("th"),l=a.parent().closest("th"),h=t(l[0]),f.preventDefault(),h.disableResizable())||(v=r._columns(),y=it(v,h),y<0)||(o=s(v,w,y+1),o)&&(p=t(o[0]),c(h.width)&&c(p.width))&&i._resizeStart(a,e,l,o)}));this.ltm.registerForDispose(r.element.setEvents(["keydown.fxcontrolGridResizableColumn",".fxc-grid-headerCell",function(t){var e;if(t.ctrlKey){e=0;switch(t.keyCode){case 37:e=-20;break;case 39:e=20}if(e){var l=u(t.currentTarget).closest("th"),a=f.dataFor(l[0]),v=i.widget._columns.indexOf(a),c=s(r._columns(),i.widget.element.find("th"),v+1);if(c){var y=f.dataFor(c[0]),o=l.width()+e,h=c.width()-e;o<n.minColumnWidth?(h=h+o-n.minColumnWidth,o=n.minColumnWidth):h<n.minColumnWidth&&(o=o+h-n.minColumnWidth,h=n.minColumnWidth);i.resizeColumns(a,o,y,h)}}}},]))},e.prototype.initializeColumn=function(n,t){n.disableResizable=h(t.disableResizable,!1);n.hasHandle=h(t.hasHandle,!0)},e.prototype._resizeStart=function(n,i,f,e){var p=this,w,ht=i.find(g),ct=i.find(nt),h=u(r.createElement("div",{"class":"fxc-grid-resizableColumn-ghostLine fxs-portal-selected"})),k=i.find(l),tt=f.offset().left+this._options.minWidth,it=e.offset().left+e.width()-this._options.minWidth,ut,ft,et,ot;w=n.find(d);ut=w.offset().left;ft=rt(k,ut);h.offset({left:ft});h.css("position","absolute");et=ht.height();ot=ct.height();h.height(et+ot);k.append(h);var c=u(b.document),y="mousemove.fxcontrolGridResizableColumn",s=function(n){var t=n.pageX,r=v(t,tt,it);n.preventDefault();i.addClass(o);h.offset({left:r})},st="mouseup.fxcontrolGridResizableColumn",a=function(n){var u,l,a,w,r,b=n.pageX,k=v(b,tt,it),d=t(e[0]),g=t(f[0]);s&&c.off(y,s);s=null;i.removeClass(o);h.remove();u=f.width();l=e.width();r=k-p._mouseDownPos;a=u+r;w=l-r;p.resizeColumns(g,a,d,w)};c.on(y,s);c.one(st,a);this._disposeAction=function(){s&&c.off(y,s);s=null;a&&c.off(st,a);a=null}},e.prototype.resizeColumns=function(n,t,i,r){var u,f,e;this._options.resizeToPercent()?(e=this.widget.element.find(l).width(),f=a(e,r),u=a(e,t)):(u=t.toString()+"px",f=r.toString()+"px");n.width(u);i.width(f)},e})(e.Plugin);n.Plugin=y})(o||(o={})),o}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxc-grid-scrolling,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer,.fxc-grid2.fxc-grid-scrolling div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{overflow-x:hidden;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container,.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer{width:100%;overflow-x:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-horizontalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{width:100%;overflow-x:auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll{height:100%;overflow-y:hidden}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container{height:100%;overflow-y:hidden;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer{height:100%;overflow-y:hidden;padding-top:40px;position:relative;-webkit-flex:1 1 auto;flex:1 1 auto;display:-webkit-flex;display:flex;-webkit-flex-direction:column;flex-direction:column}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer{height:100%;overflow-y:auto;-webkit-flex:1 1 auto;flex:1 1 auto}.fxc-grid2.fxc-grid-scrolling.fxc-grid-verticalScroll div.fxc-grid-container div.fxc-grid-tableContainer div.fxc-grid-tableScrollContainer table.fxc-grid-tableHeader{position:absolute;top:0;left:0}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.ctl",["require","exports","f","o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","Viva.Controls/Util/Viva.Resize","MsPortalImpl/Base/Base.FeatureDetection","MsPortalImpl/Base/Base.Timers","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.css"],(function(n,t,i,r,u,f,e,o,s){"use strict";var h;return (function(n){var p=i.Errors,d=p.CanceledError,g="scrolling",nt="fxc-grid-scrolling",tt=2048,it=32,rt=.8,a=12,v=2,h=Math,w=h.ceil,t=h.floor,c=h.max,l=h.min,ut=u.observableArray,y=u.utils,b=y.applyArraySplices,k=y.createArraySplices,ft=(function(n){function f(t){var r=n.call(this,{name:g,cssClass:nt,widget:t})||this,f;return r._updateHeaderByAnimationFrame=s.throttleByAnimationFrame((function(){var t=r._scrollContainer,n;if(t&&(n=t.find(".fxc-grid-tableHeader"),n.length)){var f=-t.scrollLeft(),e=f<0?f+"px":"",l=n.css("left");e!==l&&n.css("left",e);var u=t[0],o=i.truncate(u.offsetWidth-u.clientWidth),s=o>0?"calc(100% - "+o+"px)":"",a=n.css("width");s!==a&&i.truncate(u.clientWidth)!==0&&(n.css("width",s),r.widget.triggerPlugins("headerResized",n.width()));var v=n.outerHeight(),h=v+"px",c=t.parent(".fxc-grid-tableContainer"),y=c.css("padding-top");h!==y&&c.css("padding-top",h)}})),r._updateContentHeight=u.observable(),r._updateViewportByAnimation=s.throttleByAnimationFrame((function(n){var t;return r.pageNavigator?t=r._updatePageViewport(n):r.demandLoadNavigator&&(t=r._updateDemandLoadViewport(n)),t&&(t=t.catchError(d,(function(){}))),t})),r._updateViewportHelper=s.debounce((function(n){return r._updateViewportByAnimation(n)}),100),r._cacheLifetime=r.ltm.createChildLifetime(),r._rowLifetimeMap=new i.Map,r._options=t.options.scrolling,f=r._options,r._lastEndRow=0,r._lastStartRow=0,r._activePageRequest=null,r.horizontal=f.horizontal!==!1,r.vertical=f.vertical!==!1,r.vertical&&(r.widget._loader=r),r._updateContentHeight.subscribe(r.ltm,(function(n){var t=r.widget.element.find(".fxc-grid-tableContent");t.height(n);t.css({position:"relative",overflow:"hidden"})})),r._resetCache(),r}return __extends(f,n),f.prototype.dispose=function(){this._scrollContainer=null;n.prototype.dispose.call(this)},r.defineProperty(f.prototype,"pageNavigator",{get:function(){if(this._pageNav===undefined){var n=this.widget.dataNavigator;this._pageNav=n.loadPage&&n.totalItems&&n.canLoadMore?n:null}return this._pageNav},enumerable:!0,configurable:!0}),r.defineProperty(f.prototype,"demandLoadNavigator",{get:function(){if(this._demandLoadNav===undefined){var n=this.widget.dataNavigator;this._demandLoadNav=n.loadMore&&n.canLoadMore?n:null}return this._demandLoadNav},enumerable:!0,configurable:!0}),r.defineProperty(f.prototype,"allNavigator",{get:function(){if(this._allNavigator===undefined){var n=this.widget.dataNavigator;this._allNavigator=n.loadAll?n:null}return this._allNavigator},enumerable:!0,configurable:!0}),r.defineProperty(f.prototype,"virtualScrolling",{get:function(){return this.vertical&&(this.pageNavigator!==null||this.demandLoadNavigator!==null)},enumerable:!0,configurable:!0}),f.prototype.afterCreate=function(){var n=this,t=this.ltm,f=this.widget,i=f.element,u,o,s,r;t.registerForDispose(this._updateViewportHelper);i.toggleClass("fxc-grid-horizontalScroll",this.horizontal);i.toggleClass("fxc-grid-verticalScroll",this.vertical);u=this._scrollContainer=i.find(".fxc-grid-tableScrollContainer");f.attachEvent(u,"scroll.fxGridScrolling",null,(function(){n._update({skipHeader:!0})}));this.virtualScrolling&&(e.track(t,i,(function(t,i){var r;t===s&&n._scrollContainer&&i<=o&&(r={skipHeader:!0});n._update(r);o=i;s=t}),{ignoreInitialState:!0}),r=this.pageNavigator,r?(r.startIndex.subscribe(t,(function(t){n._activePageRequest||t!==0||(n._updateTableTop(0),u.scrollTop(0),n._updateViewport())})),r.totalItems.subscribe(t,(function(){n._activePageRequest||n._updateViewport()}))):this.demandLoadNavigator.items.subscribe(t,(function(){n._activePageRequest||n._updateViewport()})))},f.prototype.reset=function(){var n=this._scrollContainer;n&&(n.scrollLeft(0),n.scrollTop(0),this._update())},f.prototype._update=function(n){return this.virtualScrolling?this._updateViewport(n):this._updateHeader(n)},f.prototype._updateHeader=function(n){var t=n&&n.skipHeader;return t?Q():this._updateHeaderByAnimationFrame()},f.prototype._getRowHeight=function(){var t,i=this._scrollContainer,n;return i&&(n=i.find(".fxc-grid-full td:not(.azc-collapsed-hidden):eq(0)"),n.length&&(t=n.outerHeight())),t||it},f.prototype._getTotalScrollHeight=function(n,i){if(n){var r=t(rt*o.getMaxElementHeight()),u=t(n*i)+1;return l(u,r)}return i+1},f.prototype._updateTableTop=function(n){var t=this.widget.element.find(".fxc-grid-full"),r="absolute",f=t.css("position"),i,u;r!==f&&t.css("position",r);i=n+"px";u=t.css("top");i!==u&&t.css("top",i)},f.prototype._updateViewport=function(n){var t=this;return i.tryImmediateResolve(this.widget.waitForLoad(),(function(){return t._updateViewportHelper(n)}))},f.prototype._updateDemandLoadViewport=function(n){var r=this,h=this._scrollContainer,u=this.demandLoadNavigator,i=u.items().length,v=u.canLoadMore(),s,b;if(h&&(i||v)){var y=this._getRowHeight(),k=this._getTotalScrollHeight(i,y),f=h[0],e=f.clientHeight,d=f.scrollTop||0,g=f.scrollHeight||k||e;if(e){var nt=t(i*(d/g)),p=w(e/y),o=nt+p+c(p,a);if(v||(o=l(o,i)),s=o-i,s>0)return b=this._activePageRequest,this.waitFor(u.loadMore(s)).finally((function(){r._activePageRequest===b&&(r._updateHeader(n),r._activePageRequest=null)}))}}return Q()},f.prototype._updatePageViewport=function(n){var r=this,tt=this._scrollContainer,s=this.pageNavigator,i=s.totalItems()||0,h=s.canLoadMore(),y,e,b,o,ut,ft;if(tt&&(i||h)){y=this._getRowHeight();e=this._getTotalScrollHeight(i,y);this._updateContentHeight(e);var k=tt[0],d=k.clientHeight,et=k.scrollTop||0,it=k.scrollHeight||e||d;if(d){var g=t(i*(et/it)),p=w(d/y),u=c(g-c(p,a),0),f=g+p+c(p,a),ot=f-u;h||(f=l(f,i));var st=f-u,rt=g,nt=rt+p;return h||(nt=l(nt,i)),b=this._lastStartRow,b>0&&(b+=v),o=this._lastEndRow,o>v&&(h||i!==o)&&(o-=v),rt<b||nt>o?(ut=t(it*(u/i)),this._updateTableTop(ut),this._renderRows(u,f,st),this._lastStartRow=u,this._lastEndRow=f,ft=this._activePageRequest={},this.waitFor(s.loadPage(u,ot)).finally((function(){if(r._activePageRequest===ft)return r._activePageRequest=null,r._mergeRows(),e=r._getTotalScrollHeight(s.totalItems(),y),r._updateContentHeight(e),r._updateHeader(n)}))):this._updateHeader(n)}}return Q()},f.prototype._renderRows=function(n,t,i){var r=this.widget._items,f=this._lastStartRow,o=this._lastEndRow,l,u,h,a;if(n<o&&t>f){var e=void 0,s=n-f,c=-s;s>0?(l=r.splice(0,s),this._cacheRows(f,l)):c>0&&(e=[0,0],r.splice.apply(r,e.concat(this._getFillRows(n,c))));u=o-t;h=-u;u>0?(a=r.splice(r.peek().length-u,u),this._cacheRows(t,a)):h>0&&(e=[r.peek().length,0],r.splice.apply(r,e.concat(this._getFillRows(o,h))))}else this._cacheRows(f,r.peek()),r(this._getFillRows(n,i))},f.prototype._getFillRows=function(n,t){var f=[],r,u,i,e;for(f.length=t,r=n,u=0;u<t;u++)i=this._getCachedRow(r),i||(e=this._cacheLifetime.createChildLifetime(),i=this.widget.createItem(e,{dataItem:null,itemIndex:r+1}),this._rowLifetimeMap.set(i,e)),f[u]=i,r++;return f},f.prototype._resetCache=function(){this._cache=[];this._cache.length=tt;this._cacheLifetime.dispose();this._cacheLifetime=this.ltm.createChildLifetime()},f.prototype._cacheRows=function(n,t){for(var i=n,r=0;r<t.length;r++)this._cache[i%this._cache.length]={index:i,row:t[r]},i++},f.prototype._getCachedRow=function(n){var i=n%this._cache.length,t=this._cache[i];return t&&t.index===n?t.row:null},f.prototype.beginLoad=function(){var r=this,n=this.widget,t=n.dataNavigator,i=function(t,i){var u=n.createItem(t,{dataItem:i});return r._rowLifetimeMap.set(u,t),u};if(this.pageNavigator!==null)return this._mergeInto(t.items,this.ltm,i,(function(n,t){if(n){var i=n.navigatorItem();return i!==t&&n.navigatorItem(t),!0}return!1}),n._items),this._updateViewportHelper();if(this.demandLoadNavigator!==null)return t.items.mapInto(this.ltm,i,n._items),this._updateViewportHelper();if(this.allNavigator!==null)return t.items.mapInto(this.ltm,i,n._items),this.waitFor(this.allNavigator.loadAll());throw new p.Error("Scrolling will not work with the current grid data navigator.");},f.prototype._mergeInto=function(n,t,i,r,f){var e=this,o,s,h;return f||(f=ut()),o=function(n){return u.ignoreDependencies((function(){var t=e._cacheLifetime.createChildLifetime(),r=i(t,n);return e._rowLifetimeMap.set(r,t),r}))},f(n.peek().map(o)),s=function(n){return k(n,!0,f.peek(),o)},h=function(){var t=f.peek(),i=n.peek().map((function(n,i){var u=t[i];return r(u,n)?u:o(n)})),u=y.compareArrays(t,i,{sparse:!0});return k(u)},this._mergeRows=function(){var n=h();b(f,n)},n.subscribeArrayEdits(t,(function(n){if(!e._activePageRequest){e._resetCache();var t=s(n),i=b(f,t);i.forEach((function(n){e._rowLifetimeMap.get(n).dispose();e._rowLifetimeMap.delete(n)}))}})),f},f})(f.Plugin);n.Plugin=ft})(h||(h={})),h}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td>div{opacity:.5}.fxc-grid2.fxs-grid-focus table tbody tr[aria-disabled=true] td.fxc-grid-infoBalloon>div{opacity:1}.fxc-grid2.fxs-grid-focus.azc-grid-mousedown{outline:0}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.ctl",["require","exports","f","i","ko","$","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Focus","MsPortalImpl/Base/Base.KeyboardHelper","Viva.Controls/Util/Viva.Util","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.css"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){var p=r.Data,c="focus",l="fxs-grid-focus";n.HasFocusClass="fxs-has-focus";var t=jQuery,a=window,f=u.dataFor,v=u.pureComputed,y=(function(r){function o(n){var t=r.call(this,{name:c,cssClass:l,widget:n})||this;return u.reactor(t.ltm,(function(){if(t.widget.loadState()===2){var i=n._rows(),r=i.length&&i[0],u=i.first((function(n){return n===t._currentTabbableRow}));t._updateCurrentTabbableRow(u||r)}})),t}return __extends(o,r),o.prototype.dispose=function(){this.widget.element.removeClass("fxc-grid-mousedown");r.prototype.dispose.call(this)},o.isEditableControl=function(n){return n.is("input")||n.is("textarea")||n.is("select")||n.is("keygen")},o.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("bodyRowsCore");t.addAttribute("tr","data-bind",["hasFocus: isFocused"])},o.prototype.initializeRow=function(t){var i=this;t.tabindex=v((function(){var r=t.tabbable(),n=-1;return r&&!i.widget._loading()&&(n=0),n}));t.attr.tabindex=t.tabindex;t.context.$tabIndex=t.tabindex;t.css[n.HasFocusClass]=t.isFocused;this.externalHover||(t.css["fxs-portal-focus"]=!0,t.css["fxs-portal-hover"]=!0)},o.prototype.attachEvents=function(){var i=this,n=this.widget;n.attachEvent(n.element,"click.fxGridFocus","tr.fxc-grid-row:not([aria-disabled=true])",(function(n,r){t.contains(n[0],a.document.activeElement)||i.focusRow(f(n[0]),r)}));n.attachEvent(n.element,"keydown.fxGridFocus",null,(function(r,u){var y=e.Selector,a=".fxc-grid-row",p=a+":not([aria-disabled=true])",c=t(u.target),w=c.is(y),l=w?c.find(".fxc-grid-row[tabindex=0]"):c.closest(a),h,b=s.getModifierKeys(u),v=!0;if(!o.isEditableControl(c)&&!n._loading()&&b===0){switch(u.which){case 38:l.length&&(h=n.getOrCreatePreviousRow(f(l[0])));break;case 40:l.length&&(h=n.getOrCreateNextRow(f(l[0])));break;case 36:h=n.getFirstEnabledVisibleItem();break;case 35:h=n.getLastEnabledVisibleItem();break;case 33:case 34:h=n.getFocusableByPage(p,u.which);break;default:v=!1}h&&i.focusRow(h,u);v&&u.preventDefault()}}));n.attachEvent(n.element,"mousedown.fxGridFocus",null,(function(){var i="fxc-grid-mousedown";n.element.addClass(i);t.querySelectorAll("body").one("mouseup",(function(){n.element&&n.element.removeClass(i)}))}))},o.prototype.focusFirstItem=function(){var t=this.widget,n;t._loading()||(n=i.find(t._rows(),(function(n){return!n.isDisabled()})),n&&this.focusRow(n))},o.prototype.focusRow=function(n,t){var i;this._updateCurrentTabbableRow(n);n.tabindex()===0&&(n.isFocused(!0),i={focused:n},t&&this.widget.trigger("rowFocus",h.cloneEvent(t,"rowFocus"),i))},o.prototype.focusRowByRowId=function(n){var t=this.widget.getRowById(n);t&&this.focusRow(t)},o.prototype._updateCurrentTabbableRow=function(n){var t=this._currentTabbableRow;n&&n!==t&&(t&&t.tabbable(!1),n.tabbable(!0),this._currentTabbableRow=n)},o})(o.Plugin);n.Plugin=y})(c||(c={})),c}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,'.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-col{width:26px;max-width:26px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-header{padding-left:7px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper{border-width:1px;border-style:solid;box-sizing:border-box;width:17px;height:17px}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon{margin-top:2px;margin-left:2px;position:relative}.fxc-grid2.fxs-grid-selection .fxs-grid-selection-cell-wrapper .fx-grid-formatters-svgicon svg{vertical-align:top}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable{font-family:az_ea_font,"Segoe UI",wf_segoe-ui_semibold,"Segoe UI Semibold","Segoe WP Semibold","Segoe WP",Tahoma,Arial,sans-serif;font-weight:600}.fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:underline}.fxc-grid2.fxs-grid-selection table td.fxc-grid-activatable>span{cursor:pointer}.fxs-blade-has-activation .fxc-grid2.fxs-grid-selection td.fxc-grid-activatable>span:hover{text-decoration:none}')}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.ctl",["require","exports","f","i","ko","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Focus.ctl","MsPortalImpl/Resources/ImplScriptResources","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Selection","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Base/Base.Timers","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.css"],(function(n,t,i,r,u,f,e,o,s,h,c){"use strict";var l;return (function(n){function tt(n,t){n.forEach((function(n){n.isActivated(t)}))}function it(n,t){n.forEach((function(n){n.isSelected(t)}))}var rt=r.ViewModels,ut=i.Base,ft=ut.Images,b=i.ViewModels,et=b.Forms.TriStateCheckBox,v=b.Internal.Selection2,ot=i.initValue,st="selection",ht="fxs-grid-selection",t=jQuery,y=window,ct='css: { "fxs-grid-multiselection": selection.multiselect }, attr: { "data-grid-activation": selection.activation }',lt="<col class='fxs-grid-selection-cell-col' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' />",at="<th role='presentation' class='fxs-grid-selection-cell-header' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' ><div class='fxs-grid-selection-selectAll' data-bind='pcControl: selection._selectAllCheckbox'><\/div><\/th>",vt="<td role='presentation' class='fxs-grid-selection-cell azc-br-muted' data-bind='css: { \"azc-collapsed-hidden\": $vm.selection.hiddenInCollapsed }' aria-hidden='true'><div class='fxs-grid-selection-cell-wrapper fxs-portal-border azc-fill-text'><div class='fxs-grid-selection-cell-check' data-bind='trustedHtml: $ctl.selection._selectionCellFormat($data)'><\/div><\/div><\/td>",k="11px",p="fxc-pseudoHover",d="tr.fxc-grid-row:not([aria-disabled=true])",a=f.EnabledRowSelector,l=u.dataFor,w=u.pureComputed,yt=u.reactor,g=u.utils,pt=g.unwrapObservablePath,nt=g.peekObservable,wt=(function(n){function r(t){var i=n.call(this,{name:st,cssClass:ht,widget:t})||this,r=i.options=t.options.selection,u;return i._selectAllCheckbox=new et.ViewModel(i.ltm,{ariaLabel:o.Grid.selectAllCheckboxLabel}),i._selectAllCheckbox.canUserSetIndeterminate(!1),u=i.selectionMode=r.selectionMode||2,i.multiselect=u===3,i.activation=r.activationMode!==1,i._selectableItems=t.selectableSet.registerItemController((function(n){return{id:n.id(),columnId:i._activationColumn}}),(function(n){return n.data}),(function(n,t,i,r){tt(r,!1);tt(t,!0)}),(function(n,i,r,u,f,e){var s=u?t._rows.peek():e,o;it(s,!1);o=n?t._rows.peek():r;it(o,!0)})),i}return __extends(r,n),r.prototype.attachEvents=function(){var n=this,r=d+" td.fxc-grid-activatable.fxc-grid-cell > span",i=this.widget;this.activation&&i.attachEvent(i.element,"click.fxGridActivation",r,(function(t,r){i._loading()||y.getSelection().toString().trim()||(n._changeActivation(t.parents("tr")[0],r),r.stopPropagation())}));i.attachEvent(i.element,"click.fxGridSelection",d,(function(t,r){i._loading()||y.getSelection().toString().trim()||(t=t.is("tr")?t:t.parent("tr"),n._changeSelection(t[0],r),r.stopPropagation())}));i.attachEvent(i.element,"keydown.fxGridSelection",null,(function(r,u){var v,p;if(!i._loading()){var d=y.document.activeElement,rt="tr."+e.HasFocusClass,w=t(u.target),ut=w.hasClass("fxc-grid2"),ft=ut?w:w.closest(".fxc-grid2"),g=t(d).is("tr")||t(d).is("td"),f=g?t(d).closest("tr"):ft.find(rt),s=f.length?f[0]:null,o=s?l(s):null,c=h.getModifierKeys(u),nt=!0,b,tt=10,k=n.multiselect,it=n._selectAllCheckbox;if(o&&!e.Plugin.isEditableControl(w)){switch(u.which){case 32:c===0&&o&&g&&(o.isSelected()&&(u.ctrlKey=!0),n._changeSelection(s,u));break;case 13:c===0&&o&&g&&(o.isActivated()||n._changeActivation(s,u));break;case 65:k&&c===8&&(n.selectAllRows(),it.value(1));break;case 68:c===8&&(n.unselectAllRows(),k&&it.value(0));break;case 38:case 40:k&&c===4&&(v=void 0,v=u.which===38?f.prevAll(a)[0]:f.nextAll(a)[0],o.isSelected()||n._changeSelection(s,u),v&&(l(v).isSelected()||n._changeSelection(v,u)));break;case 33:case 34:k&&c===4&&(p=void 0,p=u.which===33?f.prevAll(a):f.nextAll(a),b=p.length<tt-1?p:p.slice(0,tt-1),o.isSelected()||n._changeSelection(s,u),b.each((function(t,i){l(i).isSelected()||n._changeSelection(i,u)})));break;case 36:case 35:n.multiselect&&c===4&&(b=u.which===36?f.prevAll(a):f.nextAll(a),n.unselectAllRows(),o.isSelected()||n._changeSelection(s,u),b.each((function(t,i){l(i).isSelected()||n._changeSelection(i,u)})));break;default:nt=!1}nt&&(u.stopPropagation(),u.preventDefault())}}}));this._selectAllCheckbox.value.subscribe(this.ltm,(function(t){switch(t){case 1:n.selectAllRows();break;case 0:n.unselectAllRows()}}))},r.prototype.pseudoFocusFirstItem=function(){this.widget.element.addClass(p)},r.prototype.pseudoBlurFirstItem=function(){this.widget.element.removeClass(p)},r.prototype.activateFirstItem=function(){if(!this.widget._loading()){var n=i.find(this.widget._rows(),(function(n){return!n.isDisabled()}));n&&(this.activation?this.activateRows(n):(this.unselectAllRows(),this.selectRows(n)))}},r.prototype.activateRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._selectableItems.activateItems(t)},r.prototype.deactivateAllRows=function(){this.widget.selectableSet.deactivateAll()},r.prototype.selectAllRows=function(){this.widget.selectableSet.selectAll()},r.prototype.selectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._selectableItems.selectItems(t);var i=this.widget,r=i.dataNavigator.totalItems(),u=i.selectableSet.selectedIds().length;r&&u&&r===u&&this.selectAllRows()},r.prototype.unselectAllRows=function(){this.widget.selectableSet.unselectAll()},r.prototype.unselectRows=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._selectableItems.unselectItems(t);var i=this.widget,r=i.dataNavigator.totalItems(),u=i.selectableSet.unselectedIds().length;r&&u&&r===u&&this.unselectAllRows()},r.prototype.dispose=function(){n.prototype.dispose.call(this);this.widget.element.removeClass(p);this._selectAllCheckbox.dispose()},r.prototype.getAdditionalColumns=function(){var n=this.options;return n.selectionMode===3?n.hiddenInCollapsed&&this.widget.element.parents(".fxs-blade-has-activation").length?0:1:0},r.prototype.getSelectedRows=function(){return this.widget._rows().filter((function(n){return n.isSelected()}))},r.prototype.initializeRow=function(n){var i=this,t=this.widget.selectableSet,r=t.selectedAll();n.isSelected=n.delayedProperty(r,(function(n){var i=nt(n.id),r=t.selectedAll();return r?!t.unselectedIds().some((function(n){return v.compareIds(i,n.id)})):t.selectedIds().some((function(n){return v.compareIds(i,n.id)}))}));n.isActivated=n.delayedProperty(!1,(function(n){var i=nt(n.id);return t.activatedIds().some((function(n){return v.compareIds(i,n.id)}))}));n.activationLink=w((function(){if(i.options.linkUriProperty)return pt(n.data,i.options.linkUriProperty)}));n.attr["aria-selected"]=n.isSelected;n.attr["data-grid-activated"]=n.isActivated;n.css["fxs-portal-selected"]=n.isSelected;n.css["fxs-portal-activated"]=n.isActivated;n.css["fxc-grid2-link"]=w((function(){return!!n.activationLink()}))},r.prototype.initializeColumn=function(n,t){n.activatable=ot(t.activatable,!1);n.css["fxc-grid-activatable"]=n.activatable},r.prototype.initializeCells=function(n,t){this.widget._columns().filter((function(n){return n.activatable})).length>1&&(t.attr.tabindex=w((function(){return t.column.activatable?n.tabindex():null})))},r.prototype.onLoadComplete=function(){var n=this;if(!this.multiselect){var t=void 0,i=this.getSelectedRows(),r=i?i.length:0;if(r>=1)for(t=1;t<r;t++)i[t].isSelected(!1)}yt(this.ltm,(function(){var u=n.options._msPortalFxSelectableSet.selectedIds().length,r=n.options._msPortalFxSelectableSet.unselectedIds().length,t=n.options.selectedAll(),i=n._selectAllCheckbox;t&&r===0?i.value(1):!t&&u>0||t&&r>0?i.value(2):i.value(0)}))},r.prototype.setTemplates=function(n){var i=n.getTemplate("bodyRowsContent"),r=n.getHtmlTemplate("header"),u=n.getHtmlTemplate("colgroup"),f=n.getHtmlTemplate("table"),t;f.addAttribute("table","data-bind",[ct]);this.multiselect&&(t=new rt.Controls.Lists.Grid2.Formatters.SvgIconLookup({svgIconLookup:{"true":{svg:ft.Check({palette:99})}},height:k,width:k}),this._selectionCellFormatter=this.widget._getFormatter(t),n.setTemplate("bodyRowsContent",vt+i),r.prepend("tr",at),u.prepend("colgroup",lt))},r.prototype._changeActivation=function(n,i){var r=t(n).closest("tr")[0],s=document.activeElement,u,f,e,o;!r||r===s||r.contains(document.activeElement)||c.requestAnimationFrame((function(){r.focus()}));u=l(n);f=t(i.target).closest("td")[0];u.activationLink()?(window.open(u.activationLink()),i&&i.stopPropagation()):(f?(e=l(t(i.target).closest("td")[0]),o=e.column.id,this._activationColumn=o):this._activationColumn="",this.activateRows(u))},r.prototype._changeSelection=function(n,t){var e=this.options.selectionMode,o,h;switch(e){case 2:o=!1;break;case 3:o=!0;break;default:throw new Error("Unknown selection mode: "+e+".");}var u=l(n),r=null,i=[],c=u.isSelected(),s=-1,f;if(o)c?i=[u]:r=u;else{for(i=this.getSelectedRows(),f=i.length-1;f>=0;f--)h=i[f],h!==u||(s=f);s<0?r=u:e===2&&(!1||t.ctrlKey||t.shiftKey)||i.splice(s,1)}(r||i.length>0)&&(this.unselectRows.apply(this,i),r&&(this.selectRows(r),this.widget.focus.focusRow(r)))},r.prototype._selectionCellFormat=function(n){return this._selectionCellFormatter.format(n.isSelected(),null).html},r})(s.Plugin);n.Plugin=wt})(l||(l={})),l}));
define("_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.css",["require","exports","o","module"],(function(n,t,i,r){"use strict";i.defineProperty(t,"__esModule",{value:!0});window.fx.injectCss(r,".fxc-grid2.fxc-grid-sorting a.fxc-sortable{cursor:pointer}.fxc-grid2.fxc-grid-sorting .fxc-grid-headerlabel{display:block;float:left;max-width:calc(100% - 35px)}.fxc-grid2.fxc-grid-sorting .fxc-grid-sorting-sortImage{vertical-align:middle;display:inline-block}.fxc-grid2.fxc-grid-sorting .fxc-grid-sorting-sortImage svg{padding-left:10px;width:12px;height:12px}.fxc-grid2.fxc-grid-sorting .fxc-ascending .msportalfx-descend,.fxc-grid2.fxc-grid-sorting .fxc-descending .msportalfx-ascend,.fxc-grid2.fxc-grid-sorting .fxc-none .msportalfx-ascend,.fxc-grid2.fxc-grid-sorting .fxc-none .msportalfx-descend{opacity:.25}")}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.ctl",["require","exports","f","o","ko","MsPortalImpl.Controls/Controls/Lists/Base/Controls.Lists.Base","MsPortalImpl/Base/Base.KeyboardHelper","MsPortalImpl/Svg/Startup/SortArrows.svg","_generated/Less/MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.css"],(function(n,t,i,r,u,f,e,o){"use strict";var s;return (function(n){var t=i.initValue,e=i.initObservable,s="sorting",h="fxc-grid-sorting",c='style: { width: width }, keyedCss: { gridBHeaderCellClass: "fxc-grid-sorting-header" }',l="<a class='fxc-grid-headerCell' role='columnheader' data-bind='keyedCss: {gridBHeaderCellContent: $ctl.sorting._getSortClasses(sortable, sortOrder())}, attr:{ \"aria-sort\": sortable && $ctl.sorting._getAriaSort(sortOrder()), id: columnId }' tabindex='-1' ><span class='fxc-grid-headerlabel' data-bind='text: name'><\/span><span class='fxc-grid-sorting-sortImage fxs-portal-svg' data-bind='image: $ctl.sorting.sortIcon, visible: sortable'><\/span><\/a>",a=(function(n){function i(t){var i=n.call(this,{name:s,cssClass:h,widget:t})||this;return i.sortIcon=o,i.options=t.options.sorting,i}return __extends(i,n),i.prototype.dispose=function(){n.prototype.dispose.call(this)},r.defineProperty(i.prototype,"dataNavigator",{get:function(){return this.widget.dataNavigator},enumerable:!0,configurable:!0}),i.prototype.setTemplates=function(n){var t=n.getHtmlTemplate("headerCell");t.addAttribute("th","data-bind",[c]);n.setTemplate("headerCellContent",l)},i.prototype.attachEvents=function(){var n=this,t=function(t,i){var r=u.dataFor(t[0]),f=[];if(i.preventDefault(),r.sortable){switch(r.sortOrder()){case 1:r.sortOrder(2);break;case 0:case 2:default:r.sortOrder(1)}n.widget._columns().forEach((function(n){n.sortable&&(n===r?f.push({property:{name:n.id},direction:r.sortOrder()===1?1:0}):n.sortOrder(0))}));n.dataNavigator.sortOrder(f);n.widget._internalLoading(!0);n.dataNavigator.refresh().finally((function(){n.widget._internalLoading(!1)}))}};this.widget.attachEvent(this.widget.element,"click.fxGridSorting",".fxc-sortable",t);this.widget.attachEvent(this.widget.element,"keypress.fxGridSorting",".fxc-sortable",(function(n,i){(i.which===13||i.which===32)&&t(n,i)}))},i.prototype.initializeColumn=function(n,i){n.sortable=t(i.sortable,!0);n.sortOrder=e(i.sortOrder,0)},i.prototype._getAriaSort=function(n){switch(n){case 1:return"ascending";case 2:return"descending"}return"none"},i.prototype._getSortClasses=function(n,t){return n?"fxc-sortable fxc-"+this._getAriaSort(t):""},i})(f.Plugin);n.Plugin=a})(s||(s={})),s}));
define("MsPortalImpl.Controls/Controls/Lists/Grid2/GridB",["require","exports","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.ContextMenu.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Scrolling.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Selection.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Sorting.ctl","MsPortalImpl.Controls/Controls/Lists/Grid2/GridB.Resizing.ctl"],(function(n,t,i){"use strict";var r;return (function(n){n.Row=i.Row;n.Widget=i.Widget;n.Plugin=i.Plugin;n.TrustedWidget=i.TrustedWidget})(r||(r={})),r}))