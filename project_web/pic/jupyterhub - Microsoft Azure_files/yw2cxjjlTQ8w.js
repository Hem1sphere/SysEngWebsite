define("MsPortalImpl.Controls/Fields/CheckBoxField",["require","exports","f","i","o","MsPortalImpl.Controls/Fields/Base/Field","Viva.Controls/Controls/Forms/Viva.CheckBox","Viva.Controls/Controls/Base/ValidationPlacements/Viva.DockedBalloon","Viva.Controls/Controls/Base/ValidationPlacements/Viva.Css","MsPortalImpl/Widgets/Widgets.Common"],(function(n,t,i,r,u,f,e,o,s,h){"use strict";var c;return (function(n){var t=jQuery,c=(function(n){function f(t,i,r){return n.call(this,t,i,r)||this}return __extends(f,n),f.prototype._initializeField=function(){n.prototype._initializeField.call(this);var t=this.element;t.addClass("azc-checkBoxField").addClass("fxc-CheckBoxField").toggleClass("azc-checkBoxField-inlineLabel",this.options.inlineLabel).toggleClass("azc-checkBoxField-small",this.options.boxSize===1);this.checkBoxInit();h.waitForBindings(t[0]).then((function(){var n="azc-checkbox-guid-"+i.getUniqueId();t.find("input").attr("id",n);t.find("label").attr("for",n)}))},f.prototype.dispose=function(){this._checkBoxWidget&&(this._checkBoxWidget.dispose(),this._checkBoxWidget=null,this._checkBoxViewModel=null);this._cleanElement("azc-checkBoxField","fxc-CheckBoxField","azc-checkBoxField-inlineLabel");n.prototype.dispose.call(this)},u.defineProperty(f.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),u.defineProperty(f.prototype,"validatableViewModel",{get:function(){return this._checkBoxViewModel},enumerable:!0,configurable:!0}),u.defineProperty(f.prototype,"validatableWidget",{get:function(){return this._checkBoxWidget},enumerable:!0,configurable:!0}),f.prototype.checkBoxInit=function(){var i=this.ltm,u=this._checkBoxViewModel=new e.ViewModel(this.vmBasicOption),n;u.validationPlacements.push(new s.Css(i),new o.DockedBalloon(i,o.DockedBalloon.defaultOptions));n=this._checkBoxElement=t(r.createElement("div"));this.appendControl(n);this.linkCheckBoxViewModels();this._checkBoxWidget=new e.Widget(n,u);this._addWidget(this._checkBoxWidget);this.setupValidationBindings()},f.prototype.linkCheckBoxViewModels=function(){var t=this,n=this.options._msPortalFxWidgetValue;this._checkBoxViewModel.value(n()?1:0);n.subscribe(this.ltm,(function(n){var i=t.getCheckboxWidgetValue(n);t._checkBoxViewModel.value()!==i&&t._checkBoxViewModel.value(i)}));this._checkBoxViewModel.value.subscribe(this.ltm,(function(t){n()&&t===0?n(!1):n()||t!==1||n(!0)}));this.linkValidatableControlViewModels()},f.prototype.getCheckboxWidgetValue=function(n){return n?1:0},f.prototype._createLabelAndSubLabel=function(){this.options.inlineLabel?(this._attachLabelAndSubLabel({emptyLabel:!0}),this._attachLabelAndSubLabel({inhibitSubLabel:!0,inlineLabel:!0,insertLabelBefore:this._checkBoxElement,ariaLabel:this.options.ariaLabel})):this._attachLabelAndSubLabel({ariaLabel:this.options.ariaLabel})},f})(f.FieldWidget);n.Widget=c})(c||(c={})),c}))